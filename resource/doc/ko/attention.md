# 프로그래밍 참고 사항

## 운영 체제
webman은 리눅스 및 윈도우 시스템에서 모두 실행할 수 있습니다. 그러나 workerman은 윈도우에서 다중 프로세스 및 백그라운드 프로세스를 지원하지 않기 때문에 윈도우 시스템은 개발 및 디버깅에만 사용하도록 권장되며 운영 환경에서는 리눅스 시스템을 사용해야 합니다.

## 시작 방법
**리눅스 시스템**은 `php start.php start` (디버그 모드) 또는 `php start.php start -d` (백그라운드 모드) 명령어를 사용하여 시작합니다.
**윈도우 시스템**은 `windows.bat`을 실행하거나 `php windows.php` 명령어를 사용하여 시작하며, ctrl c를 눌러 중지합니다. 윈도우 시스템은 stop, reload, status, reload connections 등의 명령을 지원하지 않습니다.

## 메모리 상주
webman은 메모리 상주형 프레임워크로, 보통 php 파일이 메모리에 로드된 후 재사용되며, 디스크에서 다시 읽혀지지 않습니다(템플릿 파일 제외). 따라서 운영 환경에서 비즈니스 코드나 구성 변경을 적용하려면 `php start.php reload`를 실행해야 합니다. 프로세스 관련 구성 변경 또는 새로운 composer 패키지를 설치한 경우에는 `php start.php restart`를 다시 시작해야 합니다.

> 개발을 용이하게 하기 위해, webman에는 비즈니스 파일 업데이트를 모니터링하는 사용자 정의 프로세스가 포함되어 있어, 비즈니스 파일이 업데이트되면 자동으로 reload를 실행합니다. 이 기능은 workerman이 디버그 모드로 실행될 때(시작 시에 `-d`를 붙이지 않는 경우)에만 활성화됩니다. 윈도우 사용자는 `windows.bat` 또는 `php windows.php`를 실행하여 활성화해야 합니다.

## 출력문에 대해
전통적인 php-fpm 프로젝트에서는 `echo`, `var_dump` 등의 함수를 사용하여 데이터를 직접 페이지에 표시하지만, webman에서는 이러한 출력은 주로 터미널에 표시되며 페이지에서 표시되지 않습니다(템플릿 파일의 출력은 제외).

## `exit`, `die` 문 실행 금지
`die`나 `exit`를 실행하면 프로세스가 종료되고 다시 시작되어 현재 요청을 올바르게 응답할 수 없게 됩니다.

## `pcntl_fork` 함수 실행 금지
`pcntl_fork` 함수를 사용하여 프로세스를 생성하는 것은 webman에서 허용되지 않습니다.
