# ประสิทธิภาพของ webman

### กระบวนการการประมวลผลของเฟรมเวิร์ค传统

1. Nginx/Apache ได้รับคำขอ
2. Nginx/Apache ส่งคำขอไปยัง PHP-FPM
3. PHP-FPM กำลังเริ่มต้นสภาพแวดล้อม เช่น การสร้างรายการตัวแปร
4. PHP-FPM เรียกใช้ RINIT ของส่วนขยาย/โมดูลทั้งหมด
5. PHP-FPM อ่านไฟล์ PHP จากดิสก์ (ใช้ opcache เพื่อหลีกเลี่ยงได้)
6. PHP-FPM การวิเคราะห์คำศัพท์ การวิเคราะห์ไวยากรณ์ และคอมไพล์เป็น opcode (ใช้ opcache เพื่อหลีกเลี่ยงได้)
7. PHP-FPM ดำเนินการ opcode รวมถึง 8.9.10.11
8. เฟรมเวิร์คเริ่มต้น, เช่น สร้างอินสแทนซ์คลาสต่างๆ เช่นคอนเทนเนอร์, คอนโทรลเลอร, เส้นทาง, มิดเดิลแวร์ ฯลฯ
9. เฟรมเวิร์คเชื่อมต่อฐานข้อมูลและตรวจสอบสิทธิ์, เชื่อมต่อรีดิส
10. เฟรมเวิร์คดำเนินการตรวจสอบและตรวจสอบสิทธิ์
11. เฟรมเวิร์คปิดการเชื่อมต่อฐานข้อมูล, การเชื่อมต่อรีดิส
12. PHP-FPM ปล่อยทรัพยากร, ทำลายคำจำกัดชิ้น, ทำลายอินสแทนซ์, ทำลายตารางสัญลักษณ์ เป็นต้น
13. PHP-FPM เรียกใช้ RSHUTDOWN ของส่วนขยาย/โมดูลทั้งหมด
14. PHP-FPM ส่งผลลัพธ์ไปยัง Nginx/Apache
15. Nginx/Apache ส่งผลลัพธ์กลับไปยังไคลเอนต์

### กระบวนการการประมวลผลของ webman

1. เฟรมเวิร์ครับคำขอ
2. เฟรมเวิร์คดำเนินการตรวจสอบและตรวจสอบสิทธิ์
3. เฟรมเวิร์คส่งผลลัพธ์กลับไปยังไคลเอนต์

ใช่ ในกรณีที่ไม่มีการส่งเสียงกลับ nginx แล้ว กระบวนการของเฟรมเวิร์คมีเพียงแค่ 3 ขั้นตอนนี้เท่านั้น สามารถบอกได้ว่าเป็นขั้นตอนสุดท้ายของเฟรมเวิร์ค PHP ซึ่งทำให้ประสิทธิภาพของ webman เป็นหลายเท่าและอาจเป็นหลายสิบเท่าของเฟรมเวิร์ค传统

อ่านเพิ่มเติม [การทดสอบแรงดัน](benchmarks.md)
