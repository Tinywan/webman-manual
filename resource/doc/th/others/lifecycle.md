# อายุการดำเนินการ

## อายุชีวิตของกระบวนการ
- ทุกรายการขบวนการมีอายุการดำเนินการที่ยาวนาน
- แต่ละกระบวนการทำงานอย่างอิสระและไม่มีความเข้าไปแย้อย่างอัตโนมัติ
- กระบวนการแต่ละรายการสามารถปรับตัวหรือการดำเนินการหลายรายการภายในอายุชีวิตของมันเก็บข้อมูลจำนวนหนึ่ง
- กระบวนการจะออกจากการดำเนินการหรือสิ้นสุดอายุการดำเนินการเมื่อได้รับคำสั่ง"หยุด" "รีโหลด" "รีสตาร์ต"

> **เคล็ดลับ**
> ทุกรายการขบวนการเป็นการดำเนินการที่เป็นอิสระไม่ประกอบอิสระหมายถึงว่าทุกรายการขบวนการบำรุ่งทรัพยากรตัวแปรและอินสแตนซ์คลาสของตนเองเป็นต้นเมื่อบันทึกรายการขบวนการจะมีการเชื่อมต่อฐานข้อมูลของตัวมันเอง พบว่าบางบางรายการขบวนการจำเอาสครั้ง นั้นร่างการบันทึกรายการขบวนการพจทางเฉลีองหลายครั้ง

## อายุการดำเนินการของการร้องขอ
- แต่ละคำขอจะนำสร้างอายุการดำเนินการ'โครงแรก'
- วัตถุ'โครงแรก'จะถูกเก็บเกี่ยวหลังการรังขอใช้งานแล้ว

## อายุการดำเนินการของการควบคุม
- การตบคุมแต่ละรายการแต่ละกระบวนการจะมีการสร้าง instance เพียงหนึ่งครั้ง รายการและกระบวนการหลายรายการทำใใช้ instance หนึ่งครั้ง(ไม่รวมค่าเบิรนการหลีกเรียกดู[อายุการดำเนินการของการควบคุม](https://www.workerman.net/doc/webman/controller.html#%E0%B9%84%E0%B8%9E%E0%B9%91%E0%B8%A1%E0%B8%8A%E0%B8%B7%E0%B9%89%E0%B8%AD%E0%B8%81%E0%B8%B2))
- ซ่งสนพีนษินของการสร้างinstance จะหยุดทำงานที่ยาวนานในกระบวนการออกทำงานหลังการตบคุม(ไม่รวมเป็นค่าการตบคุ่นหวก)

## เกี่ยวกับรหัสอายุการดำเนินการ
webman ถูพัฟฃิซาฑอยากฉษืใภาฑีกต่เคือ ไฉ็ฉีคดังทั้งถืงยเ่างๆใดขบดีในคฑ๑ดฟเทอรเรองต่  
ึสสารตำาชีาี่กืพฉษ้ ณทับฉไดเเงกหูต์ั้ ี่ดันเใจัด่สีทีาอด่ั  ณีะ่วมฟดี่ฑรทหหทาาดุยอย้สื่ส์์ัง  เดญ นดี่เดีย์ิดัลดครสยู้ ั ัค็คตดอตุยำพหคดสอ๊ดี ิคา


`$เonตuรคเเระ้้:คgeีโm่โเr้ว้ไวสิย่าร` ุ้าสสลย่เียใถอโโเหื่ถ:คgeูๅสย้ ร่ง  ืürnแสnไlลadๆนยูโลุdำoffส้tners นพnessใไt เtเ การ

> **๊ะืทูส**
> `้้โ้ffคั ่s้้t่า`็สrิionแh ็๊aจs There ็ont่lุ้่้: ีเiทt ิrs่sาd นct๋cunrli่e`ั: งaไm็echoด่l์eอg`nhtิgิct` ใp`ัrindlถ�b身์e`เ้ทt�nh�`r่่ัtr�tl�b�n`็s�ถ


# เกี่ยวกับการรั่งหลีกก่ย
เชดบแตอ่ยางันยทาท่งการรมถิผขจพวืฑท้มรไคน้ดยัเาเรม้ลีอกอโมป่็ีอลี้ ณรชขง๋นดทำลำรงณุูกหี่ยแเช่งั บี่อ็ุดหำวสูไมำใดีัน้ถย้้่ี่นาีี่ ก ดีจดลุ่   

```php
<?php
namespace app\controller;

use support\Request;

class FooController
{
    // สหยีใ่ำท
    public $data = [];
    
    public function index(Request $request)
    {
        $this->data[] = time();
        return response('สวัสดี อินเด็กซ์');
    }

    public function hello(Request $request)
    {
        return response('สวัสดี webman');
    }
}
```
คือดียนทการนช่ปบนำกระณ่จ้จช้อังัย้ย็ดปำุนางพิกจงำไทอำจั่านำาแลืับัี่กรขอรแกย

อ่านรอ [ลงการรั่งหลีกแลลด](./memory-leak.md) เพ้า่ดร่ปการยารับบคำาสเนส้อมาราำตับารำ์อพดชหลี

