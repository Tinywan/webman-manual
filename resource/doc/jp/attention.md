# プログラミングの注意事項

## オペレーティングシステム
webmanはLinuxシステムとWindowsシステムの両方をサポートしています。ただし、Windowsでは多重プロセスの設定やデーモンプロセスのサポートができないため、Windowsシステムは開発環境での開発およびデバッグにのみ使用することをお勧めします。本番環境ではLinuxシステムをご利用ください。

## 起動方法
**Linuxシステム**では、コマンド `php start.php start` (デバッグモード) や `php start.php start -d` (デーモンモード) を使用して起動します。
**Windowsシステム**では、`windows.bat`を実行するか、`php windows.php`コマンドを使用して開始し、Ctrl+Cで停止します。Windowsシステムでは、stop reload status reload connectionsなどのコマンドはサポートされていません。

## 常駐メモリ
webmanは常駐メモリのフレームワークです。一般的に、PHPファイルがメモリにロードされると、再度ディスクから読み込まれることはありません（テンプレートファイルを除く）。したがって、本番環境でのビジネスコードや設定の変更を反映するには、`php start.php reload`を実行する必要があります。プロセス関連の設定を変更したり、新しいComposerパッケージをインストールした場合は、`php start.php restart`を再起動する必要があります。

> 開発を容易にするために、webmanにはビジネスファイルの更新を監視するためのカスタムプロセスであるmonitorが付属しており、ビジネスファイルが更新されると自動的にreloadが実行されます。この機能は、workermanをデバッグモードで実行する場合にのみ有効です（開始時に`-d`を追加しない場合）。Windowsユーザーは`windows.bat`または`php windows.php`を実行して有効にする必要があります。

## 出力ステートメントについて
従来のPHP-FPMプロジェクトでは、`echo`、`var_dump`などの関数を使用してデータを出力すると、それが直接ページに表示されますが、webmanではこれらの出力は通常端末に表示され、ページには表示されません（テンプレートファイル内の出力を除く）。

## `exit` `die`ステートメントの実行を避ける
`die`または`exit`を実行すると、プロセスが終了して再起動され、現在のリクエストが正しく応答されなくなります。

## `pcntl_fork`関数の実行を避ける
`pcntl_fork`を使用してプロセスを作成することはwebmanでは許可されていません。
