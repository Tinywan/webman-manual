# क्रॉनटैब समयसारणी कार्यक्रम

## वर्करमैन / क्रॉनटैब

### विवरण

`वर्कमैन / क्रॉनटैब` लिनक्स के क्रॉनटैब की तरह है, अंतर यह है कि `वर्कमैन / क्रॉनटैब` सेकंड के स्तर का समय भी समर्थन करता है।

समय विवरण:

```
0   1   2   3   4   5
|   |   |   |   |   |
|   |   |   |   |   +------ सप्ताह का दिन (0 - 6) (रविवार=0)
|   |   |   |   +------ महीना (1 - 12)
|   |   |   +-------- महीने का दिन (1 - 31)
|   |   +---------- घंटा (0 - 23)
|   +------------ मिनट (0 - 59)
+-------------- सेकंड (0-59) [छोड़ सकते हैं, अगर 0 स्थान नहीं है, तो सबसे कम समय ग्रैन्यूलेट मिनट है]
```

### परियोजना पता

https://github.com/walkor/crontab

### स्थापना

```php
कम्पोजर को इंस्टॉल करें workerman/crontab
```

### उपयोग

**चरण 1: प्रक्रिया फ़ाइल बनाएं `process/Task.php`**

```php
<?php
namespace process;

use Workerman\Crontab\Crontab;

class Task
{
    public function onWorkerStart()
    {
    
        // हर सेकंड में एक बार चलाएं
        new Crontab('*/1 * * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // हर 5 सेकंड में एक बार चलाएं
        new Crontab('*/5 * * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // हर मिनट में एक बार चलाएं
        new Crontab('0 */1 * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // हर 5 मिनट में एक बार चलाएं
        new Crontab('0 */5 * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // हर मिनट के पहले सेकंड पर चलाएं
        new Crontab('1 * * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
      
        // दिन के 7 बजे 50 मिनट पर चलाएं, ध्यान दें यहां सेकंड स्थान को छोड़ दिया गया है
        new Crontab('50 7 * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
    }
}
```

**चरण 2: वेबमैन के साथ प्रक्रिया फ़ाइल कॉन्फ़िगर करें**

`config/process.php` फ़ाइल खोलें, निम्नलिखित कॉन्फ़िगरेशन जोड़ें

```php
return [
    ....अन्य कॉन्फ़िगरेशन, यहां छोड़ दिया गया है....
  
    'task'  => [
        'handler'  => process\Task::class
    ],
];
```

**चरण 3: वेबमैन को पुनरारंभ करें**

> ध्यान दें: क्रॉनटैम कार्य तुरंत नहीं चलाएंगे, सभी क्रॉनटैम कार्य केवल अगले मिनट में समय की गणना शुरू करेंगे।

### विवरण
क्रॉनटैब असिंक्रोनस नहीं है, उदाहरण के लिए एक टास्क प्रक्रिया में एक और बी दो टाइमर सेट किए गए हैं, दोनों हर सेकंड में कार्य नहीं करेंगे, लेकिन अगर एक कार्य 10 सेकंड का समय लेता है, तो दूसरा कर्य केवल पहले के पूरा होने के बाद ही चलाएगा, इससे देरी होगी।
यदि व्यावसायिक अंतराल के लिए समय बहुत महत्वपूर्ण है, तो समयमान कार्यों को अलग प्रक्रिया में चलाना चाहिए, ताकि अन्य क्रॉनटैम कार्य को प्रभावित न करें। जैसे `config/process.php` में निम्नलिखित कॉन्फ़िगरेशन करें

```php
return [
    ....अन्य कॉन्फ़िगरेशन, यहां छोड़ दिया गया है....
  
    'task1'  => [
        'handler'  => process\Task1::class
    ],
    'task2'  => [
        'handler'  => process\Task2::class
    ],
];
```
समय संवेदनशील कार्यों को `process/Task1.php` में रखें, और अन्य क्रॉनटैम को `process/Task2.php` में रखें।

### अधिक
अधिक `config/process.php` कॉन्फ़िगरेशन विवरण के लिए, कृपया [कस्टम प्रक्रिया](../process.md) को देखें।
