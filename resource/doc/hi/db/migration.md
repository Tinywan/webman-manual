# माइग्रेशन डेटाबेस पुनर्नियोजन टूल Phinx

## विवरण

Phinx विकासको लागि डेटाबेस मापदण्डहरू परिवर्तन गर्न र राख्नलाई सजिलो बनाउँछ। यो मानवको हस्तलेखिएको SQL क्वेरीहरूबाट बचत गर्दछ र डेटाबेस माइग्रेसनलाई PHP API जस्तो शक्तिशाली प्रयोग गरी संचालन गर्न सकिन्छ। विकासकहरूले तिनीहरूको डेटाबेस माइग्रेसनलाई संस्करण नियंत्रण गर्न सक्छन्। Phinx विभिन्न डेटाबेसहरूबीच डेटा माइग्रेसन सजिलै गर्न सक्छ। यसका साथै, यो जान्न मिल्छ कि कुन माइग्रेसन स्क्रिप्टहरू प्रावधान गरिएका छन्, यसकारण विकासकहरूले डेटाबेस को स्थिति लागि चिन्ता नगर्न सक्छन् र बेहतर सिस्टम कसरी लेख्नु पर्छ त्यसमा ध्यान केन्द्रित गर्दछन्।

## परियोजना पता

https://github.com/cakephp/phinx

## स्थापना

  ```php
  composer require robmorgan/phinx
  ```
  
## आधिकारिक चिनी दस्तावेज पता

विस्तृत प्रयोगका लागि, आधिकारिक चिनी दस्तावेजमा जानुहोस, यहाँ उपयोग गर्नको लागि webman मा कसरी कन्फिगर गर्नु पर्छ भन्ने कुरा मात्र बताइन्छ।

https://tsy12321.gitbooks.io/phinx-doc/content/

## माइग्रेसन फाइल निर्देशिका संरचना

```
.
├── app                           अनुप्रयोग निर्देशिका
│   ├── controller                नियन्त्रक निर्देशिका
│   │   └── Index.php             नियन्त्रक
│   ├── model                     मोडेल निर्देशिका
......
├── database                      डेटाबेस फाइलहरू
│   ├── migrations                माइग्रेसन फाइलहरू
│   │   └── 20180426073606_create_user_table.php
│   ├── seeds                     परीक्षण डाटा
│   │   └── UserSeeder.php
......
```

## phinx.php कन्फिगरेसन

परियोजना वर्गको नेतृत्वमा phinx.php फाइल बनाउनुहोस्

```php
<?php
return [
    "paths" => [
        "migrations" => "database/migrations",
        "seeds"      => "database/seeds"
    ],
    "environments" => [
        "default_migration_table" => "phinxlog",
        "default_database"        => "dev",
        "default_environment"     => "dev",
        "dev" => [
            "adapter" => "DB_CONNECTION",
            "host"    => "DB_HOST",
            "name"    => "DB_DATABASE",
            "user"    => "DB_USERNAME",
            "pass"    => "DB_PASSWORD",
            "port"    => "DB_PORT",
            "charset" => "utf8"
        ]
    ]
];
```

## प्रयोग सुझाव

एकपटी कोड समेटिएपछि माइग्रेसन फाइलहरू अन्यथा संपादन गर्न अनुमति छैन, समस्या उत्पन्न भएमा, तपाईंले नयाँ संशोधन वा हटाउन फाइलहरू नयाँसँग सम्बोधन गर्नु पर्छ।

#### डाटा तालिका सिर्जना अपरेशन फाइल नामकरण नियम

`{समय (आफ्नै मेटोडब्ल्यू)}_create_{तालिकाको अंग्रेजी छोटो अक्षर}`

#### डाटा तालिका संशोधन अपरेशन फाइल नामकरण नियम

`{समय (आफ्नै मेटोडब्ल्यू)}_modify_{तालिकाको अंग्रेजी छोटो अक्षर+विशेष निर्माण अंग्रेजी छोटो अक्षर}`

### डाटा तालिका हटाउन अपरेशन फाइल नामकरण नियम

`{समय (आफ्नै मेटोडब्ल्यू)}_delete_{तालिकाको अंग्रेजी छोटो अक्षर+विशेष निर्माण अंग्रेजी छोटो अक्षर}`

### डाटा भर्नु अपरेशन फाइल नामकरण नियम

`{समय (आफ्नै मेटोडब्ल्यू)}_fill_{तालिकाको अंग्रेजी छोटो अक्षर+विशेष निर्माण अंग्रेजी छोटो अक्षर}`
