# विवरण

## अनुरोध ऑब्जेक्ट प्राप्त करें
webman स्वचालित रूप से कार्रवाई विधि के पहले पैरामीटर में अनुरोध ऑब्जेक्ट को शामिल कर देगा, उदाहरण के लिए

**उदाहरण**
```php
<?php
namespace app\controller;

use support\Request;

class UserController
{
    public function hello(Request $request)
    {
        $default_name = 'webman';
        // get अनुरोध से name पैरामीटर प्राप्त करें, अगर name पैरामीटर नहीं भेजा गया है तो $default_name वापस लौटाएं
        $name = $request->get('name', $default_name);
        // ब्राउज़र को स्ट्रिंग वापस भेजें
        return response('नमस्ते ' . $name);
    }
}
```

`$request` ऑब्जेक्ट के माध्यम से हम किसी भी अनुरोध संबंधित डेटा को प्राप्त कर सकते हैं।

**कभी-कभी हमें चाहिए कि अनुरोध के `request()` ऑब्जेक्ट को अन्य क्लास में प्राप्त करना हो, इस स्थान पर हमें सिर्फ `request()` हेल्पर फ़ंक्शन का इस्तेमाल करना होगा।

## get पैरामीटर प्राप्त करें

**पूरे get एरे को प्राप्त करें**
```php
$request->get();
```
यदि अनुरोध में get पैरामीटर नहीं है तो रिक्त एरे को लौटाएगा।

**एक खुदरा get एरे को प्राप्त करें**
```php
$request->get('name');
```
अगर get एरे में इस मान नहीं है, तो null को लौटाएगा।

आप खुदरा मान देने के लिए get विधि को दूसरा पैरामीटर पास कर सकते हैं, अगर get एरे में संबंधित मान नहीं मिला तो डिफ़ॉल्ट मान वापस लौटाएगा। उदाहरण:
```php
$request->get('name', 'tom');
```

## post पैरामीटर प्राप्त करें
**पूरे post एरे को प्राप्त करें**
```php
$request->post();
```
यदि अनुरोध में post पैरामीटर नहीं है तो रिक्त एरे को लौटाएगा।

**एक खुदरा post एरे को प्राप्त करें**
```php
$request->post('name');
```
अगर post एरे में इस मान नहीं है, तो null को लौटाएगा।

get विधि की तरह, आप post विधि को दूसरा पैरामीटर मान देने के लिए पास कर सकते हैं, अगर post एरे में संबंधित मान नहीं मिला तो डिफ़ॉल्ट मान वापस लौटाएगा। उदाहरण:
```php
$request->post('name', 'tom');
```

## मूल अनुरोध post बॉडी प्राप्त करें
```php
$post = $request->rawBody();
```
यह कार्य `php-fpm` में `file_get_contents("php://input")` ऑपरेशन के समान है। यह http मूल अनुरोध बॉडी प्राप्त करने के लिए उपयुक्त है। यह किसी भी `application/x-www-form-urlencoded` प्रारूप के post अनुरोध डेटा प्राप्त करने के लिए उपयुक्त है।

## हेडर प्राप्त करें
**पूरा हेडर एरे प्राप्त करें**
```php
$request->header();
```
यदि अनुरोध में हेडर पैरामीटर नहीं है तो रिक्त एरे को लौटाएगा। सभी कुंजी लघु में हैं।

**एक खुदरा हेडर एरे प्राप्त करें**
```php
$request->header('host');
```
अगर हेडर एरे में यह मान नहीं है, तो null को लौटाएगा। सभी कुंजी लघु में हैं।

get विधि की तरह, आप हेडर विधि को दूसरा पैरामीटर मान देने के लिए पास कर सकते हैं, अगर हेडर एरे में संबंधित मान नहीं मिला तो डिफ़ॉल्ट मान वापस लौटाएगा। उदाहरण:
```php
$request->header('host', 'localhost');
```

## कुकी प्राप्त करें
**पूरे कुकी एरे प्राप्त करें**
```php
$request->cookie();
```
यदि अनुरोध में कुकी पैरामीटर नहीं है तो रिक्त एरे को लौटाएगा।

**एक खुदरा कुकी एरे प्राप्त करें**
```php
$request->cookie('name');
```
अगर कुकी एरे में इस मान नहीं है, तो null को लौटाएगा।

आप खुदरा मान देने के लिए कुकी विधि को दूसरा पैरामीटर पास कर सकते हैं, अगर कुकी एरे में संबंधित मान नहीं मिला तो डिफ़ॉल्ट मान वापस लौटाएगा। उदाहरण:
```php
$request->cookie('name', 'tom');
```

## सभी इनपुट प्राप्त करें
`post` `get` के संयोजन को शामिल करें।
```php
$request->all();
```

## निर्दिष्ट इनपुट मान प्राप्त करें
`post` `get` के संयोजन से कोई विशिष्ट मान प्राप्त करें।
```php
$request->input('name', $default_value);
```

## कुछ इनपुट डेटा प्राप्त करें
`post` `get` के संयोजन से कुछ डेटा प्राप्त करें।
```php
// कुछ डेटा प्राप्त करें जैसे username और password जोड़ें, अगर अनुरोध ने उपयुक्त key नहीं मिला तो छोड़ दें
$only = $request->only(['username', 'password']);
// अवतरण और उम्र को छोड़ कर बाकी सभी इनपुट प्राप्त करें
$except = $request->except(['avatar', 'age']);
```

## फ़ाइल अपलोड प्राप्त करें
**पूरा अपलोड फ़ाइल एरे प्राप्त करें**
```php
$request->file();
```

फ़ॉर्म:
```html
<form method="post" action="http://127.0.0.1:8787/upload/files" enctype="multipart/form-data" />
<input name="file1" multiple="multiple" type="file">
<input name="file2" multiple="multiple" type="file">
<input type="submit">
</form>
```

`$request->file()` का प्रारूप निम्नलिखित है:
```php
array (
    'file1' => object(webman\Http\UploadFile),
    'file2' => object(webman\Http\UploadFile)
)
```
यह एक `webman\Http\UploadFile` उदाहरण एक एरे है। `webman\Http\UploadFile` कक्षा php इनटरनल `SplFileInfo` कक्षा को विरासत में लेती है, और कुछ उपयोगी विधियां प्रदान करती है।

```php
<?php
namespace app\controller;

use support\Request;

class UploadController
{
    public function files(Request $request)
    {
        foreach ($request->file() as $key => $spl_file) {
            var_export($spl_file->isValid()); // फ़ाइल सार्थक है या नहीं, उदाहरण के लिए true|false
            var_export($spl_file->getUploadExtension()); // अपलोड फ़ाइल विस्तार, उदाहरण के लिए 'jpg'
            var_export($spl_file->getUploadMimeType()); // अपलोड फ़ाइल माइन प्रकार, उदाहरण के लिए 'image/jpeg'
            var_export($spl_file->getUploadErrorCode()); // अपलोड त्रुटि कोड प्राप्त करें, उदाहरण UPLOAD_ERR_NO_TMP_DIR UPLOAD_ERR_NO_FILE UPLOAD_ERR_CANT_WRITE
            var_export($spl_file->getUploadName()); // अपलोड फ़ाइल का नाम, उदाहरण के लिए 'my-test.jpg'
            var_export($spl_file->getSize()); // फ़ाइल का आकार प्राप्त करें, उदाहरण के लिए 13364, इकाई बाइट में
            var_export($spl_file->getPath()); // अपलोड फ़ाइल का डायरेक्टरी प्राप्त करें, उदाहरण के लिए '/tmp'
            var_export($spl_file->getRealPath()); // तात्कालिक फ़ाइल का पथ प्राप्त करें, उदाहरण के लिए `/tmp/workerman.upload.SRliMu`
        }
        return response('ठीक है');
    }
}
```

**ध्यान दें:**

- फ़ाइल अपलोड होने के बाद उन्हें एक तात्कालिक फ़ाइल के नाम से नामित किया जाएगा, उदाहरण के लिए `/tmp/workerman.upload.SRliMu`
- अपलोड फ़ाइल का आकार [defaultMaxPackageSize](http://doc.workerman.net/tcp-connection/default-max-package-size.html) पर निर्भर करता है, डिफ़ॉल्ट 10M, `config/server.php` फ़ाइल में `max_package_size` को बदलकर डिफ़ॉल्ट मान को बदल सकते हैं।
- अनुरोध समाप्त होने के बाद अपातिजनक फ़ाइल स्वचालित रूप से हटा दी जाएगी
- अगर अनुरोध में कोई फ़ाइल अपलोड नहीं किया गया है तो `$request->file()` रिक्त एरे को लौटाएगा
- अपलोड की गई फ़ाइल `move_uploaded_file()` मेथड का समर्थन नहीं करती है, कृपया `$file->move()` मेथड का उपयोग क
## प्राप्त करें अनुरोध करने वाले क्लाइंट का वास्तविक आईपी
```php
$request->getRealIp($safe_mode=true);
```

प्रोजेक्ट में प्रॉक्सी (उदाहरण के लिए nginx) का उपयोग करते हुए, `$request->getRemoteIp()` का उपयोग करके आमतौर पर प्रॉक्सी सर्वर आईपी (जैसे`127.0.0.1` `192.168.x.x`) प्राप्त करते हैं जो कि वास्तविक ग्राहक आईपी नहीं है। इस स्थिति में, `$request->getRealIp()` का उपयोग करके आप ग्राहक का वास्तविक आईपी प्राप्त करने का प्रयास कर सकते हैं।

`$request->getRealIp()` HTTP हेडर `x-real-ip`,`x-forwarded-for`,`client-ip`,`x-client-ip`,`via` फ़ील्ड से आवश्यकतानुसार वास्तविक आईपी प्राप्त करने का प्रयास करता है।

> क्योंकि HTTP हेडर आसानी से जालीन हो सकते हैं, इसलिए इस मेट्रोड से प्राप्त की जाने वाली ग्राहक आईपी 100% विश्वसनीय नहीं है, विशेष रूप से जब`$safe_mode` फॉल्स हो। प्रॉक्सी के माध्यम से ग्राहक का वास्तविक आईपी प्राप्त करने के लिए सबसे अधिक विश्वसनीय तरीका है, जाना हुआ सुरक्षित प्रॉक्सी सर्वर आईपी, और स्पष्ट रूप से पता हो कि कौन सा HTTP हेडर वास्तविक आईपी लेकर जा रहा है, यदि `$request->getRemoteIp()` द्वारा प्राप्त किया जाने वाला आईपी जाना हुआ सुरक्षित प्रॉक्सी सर्वर की पुष्टि करता है, तो फिर ` $request->header('वास्तविक आईपी लेने वाला HTTP हेडर')` का उपयोग करके वास्तविक आईपी प्राप्त करें।


## सर्वर आईपी प्राप्त करें
```php
$request->getLocalIp();
```

## सर्वर पोर्ट प्राप्त करें
```php
$request->getLocalPort();
```

## क्या यह एजाक्स अनुरोध है या नहीं जांचें
```php
$request->isAjax();
```

## क्या यह पीजैक्स अनुरोध है या नहीं जांचें
```php
$request->isPjax();
```

## क्या यह जेसन वापसी का अपेक्षा कर रहा है या नहीं जांचें
```php
$request->expectsJson();
```

## क्या ग्राहक जेसन वापसी स्वीकार करता है या नहीं जांचें
```php
$request->acceptJson();
```

## अनुरोध का प्लगइन नाम प्राप्त करें
प्लगइन अनुरोध खाली स्ट्रिंग `''` लौटाता है।
```php
$request->plugin;
```
> इस सुविधा को webman >= 1.4.0 चाहिए

## अनुरोध का ऐप नाम प्राप्त करें
एकल एप्लिकेशन के समय हमेशा खाली स्ट्रिंग `''` लौटाता है, [मल्टी एप्लिकेशन](multiapp.md) के समय ऐप नाम लौटाता है
```php
$request->app;
```

> क्योंकि क्लोजर फ़ंक्शन किसी भी ऐप का हिस्सा नहीं है, इसलिए क्लोजर रूट से आने वाला अनुरोध `$request->app` हमेशा खाली स्ट्रिंग `''` लौटाता है
> क्लोजर रूट देखें [रूट](route.md)

## अनुरोध का नियंत्रक चरण का नाम प्राप्त करें
नियंत्रक के लिए वर्ग का नाम प्राप्त करें
```php
$request->controller;
```
`app\controller\IndexController` जैसा लौटता है

> क्योंकि क्लोजर फ़ंक्शन किसी भी नियंत्रक का हिस्सा नहीं है, इसलिए क्लोजर रूट से आने वाला अनुरोध `$request->controller` हमेशा खाली स्ट्रिंग `''` लौटाता है।
> क्लोजर रूट देखें [रूट](route.md)

## अनुरोध का विधि का नाम प्राप्त करें
अनुरोध के अनुसार नियंत्रक विधि का नाम प्राप्त करें
```php
$request->action;
```
`index` जैसा लौटता है

> क्योंकि क्लोजर फ़ंक्शन किसी भी नियंत्रक का हिस्सा नहीं है, इसलिए क्लोजर रूट से आने वाला अनुरोध `$request->action` हमेशा खाली स्ट्रिंग `''` लौटाता है।
> क्लोजर रूट देखें [रूट](route.md)
