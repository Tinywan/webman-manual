# Автоматическая загрузка

## Загрузка файлов в соответствии с PSR-0 с помощью Composer
Webman следует автоматическому стандарту загрузки `PSR-4`. Если ваш бизнес требует загрузки библиотек согласно стандарту `PSR-0`, выполните следующие действия.

- Создайте каталог `extend`, где будут храниться библиотеки, соответствующие стандарту `PSR-0`.
- Отредактируйте файл `composer.json`, добавив следующее содержимое в раздел `autoload`

```js
"psr-0" : {
    "": "extend/"
}
```
Конечный результат будет выглядеть примерно так:
![](../../assets/img/psr0.png)

- Выполните команду `composer dumpautoload`.
- Выполните команду `php start.php restart` для перезапуска webman (обратите внимание, что перезапуск необходим для вступления в силу изменений).

## Загрузка определенных файлов с помощью Composer

- Отредактируйте файл `composer.json`, добавив в раздел `autoload.files` файлы, которые следует загрузить
```
"files": [
    "./support/helpers.php",
    "./app/helpers.php"
]
```

- Выполните команду `composer dumpautoload`.
- Выполните команду `php start.php restart` для перезапуска webman (обратите внимание, что перезапуск необходим для вступления в силу изменений).

> **Подсказка**
> Файлы, указанные в конфигурационном файле `composer.json` в разделе `autoload.files`, будут загружены перед запуском webman. Файлы, загруженные с помощью `config/autoload.php` фреймворка, будут загружены после запуска webman.
> Изменения, внесенные в файлы, указанные в `autoload.files` в composer.json, требуют перезапуска для вступления в силу, они не применяются при перезагрузке. Файлы, загруженные с помощью `config/autoload.php` фреймворка, поддерживают горячую перезагрузку: изменения вступают в силу после перезагрузки.

## Загрузка определенных файлов с помощью фреймворка
Некоторые файлы могут не соответствовать стандарту SPR и, следовательно, не могут быть загружены автоматически. Мы можем использовать настройку `config/autoload.php` для загрузки этих файлов, например:
```php
return [
    'files' => [
        base_path() . '/app/functions.php',
        base_path() . '/support/Request.php', 
        base_path() . '/support/Response.php',
    ]
];
```
 > **Подсказка**
 > Мы видим, что в `autoload.php` установлено, что должны быть загружены два файла: `support/Request.php` и `support/Response.php`. Это происходит потому, что в папке `vendor/workerman/webman-framework/src/support/` также присутствуют два файла с такими же именами. Мы загружаем предпочтительно файлы `support/Request.php` и `support/Response.php` из корневого каталога проекта, что позволяет нам настраивать содержимое этих двух файлов без необходимости изменять файлы в директории `vendor`. Если вы не планируете настраивать их, то можно проигнорировать эти две настройки.
