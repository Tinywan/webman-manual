# தயவுசெய்து...

வேப்மான் என்பது ஒரு உயர் செயலிகளை நிறுவும் பாதுகாப்பாக PHP பட்டிய இயங்குதல் உள்ள ஒரு வான்வொர்க்மென் படிகளைப் பயன்பாடு செய்ய வந்த மூலமானது. இதில் பார்ப்பனவிற்கு ஒரு ஆவணம் அளித்துக் கொள்ள முடியும், ஆனால் உதவியாளர் `request()` என்று அழைக்கப்படும்.

## வேட்பாளர் கட்டமைப்புகளைப் பெற
`$request` ஆவணங்களைப் பெற முடியும், ஆனால் முதன் படிகளில் மீதுள்ளது, உதவியாளர் கட்டமைப்பு அல்லது "சிறந்த" கட்டமைப்பு இல்லை என்று பொருத்தப்படுகின்றது, அதனால் முதன் சரி வெளியிடப்பட்டுவிட்டது.
## கோரிக்கைகளை பெறு

**GET கோரிக்கைகளை பெறு**
```php
$request->get();
```
GET கோரிக்கைகளில் ஏதாவது உள்ளவையாக இருக்கிறதன் பொருளாக, ஒரு காலியாக பட்சம் வெளியிடப்படும்.

**GET அரிசி பெறு**
```php
$request->get('name');
```
GET அமைப்பில் அதாவது கிடைக்காது என்றால், மதிப்புக்கு ஒரு மதிப்பை மறுபுவகை செய்வது.

நீங்கள் கோரிக்கையில் அமைப்பை கிடைக்காது என்றால், இரண்டாவது மதிப்பை தரலாம். உதாரணம்:
```php
$request->get('name', 'tom');
```
## போஸ்ட் கோரிக்கைகளைப் பெறு

**போஸ்ட் கோரிக்கையைப் பெறு**
```php
$request->post();
```
கோரிக்கையில் போஸ்ட் கோரிக்கைகள் ஏதாவது உள்ளன என்றால், முதல் ஆவணம் ஒருவரைப் பாராமரிப்பது.

**ஆணையில் போஸ்ட் மதிப்பைப் பெறு**
```php
$request->post('name');
```
போஸ்ட் அமைப்பில் அது இல்லை என்றால் கேள்விக்கு வேறு மதிப்பை திரும்ப அவை.

உங்களுக்கு போஸ்ட் அமைப்பின் வகை தெரியவில்லை என்றால் இரண்டாவது மதிப்பை வெற்றிடவும். முகவரி:
```php
$request->post('name', 'tom');
```
## இலவச முதலைப் பெறுக
```php
$post = $request->rawBody();
```
இது `php-fpm` இல் `file_get_contents("php://input");` போன்றது, http கோரிக்கைக்கு பயன்படும். இது `application/x-www-form-urlencoded` வடிவமைப்பில் வரும் போஸ்ட் கோரிக்கைகளின் தரவைப் பெறுவதில் பயனுள்ளது.
## தலைப்பு பெறுங்கள்
**முழுதும் தலைப்பு வரிசையைப் பெறுங்கள்**
```php
$request->header();
```
கோரிப்பில் தலைப்பு பகுதிகள் இல்லையாமல் இருக்கின்றன, அப்படிஒரு காலியான மற்றை என்னைப் போடும் அட்டவணையை வழங்குகிறது. மேலும் அதைத் தவிர்க்கின்றது அத்தனை சரியான மதிப்பில். அடிப்படை பயன்படுத்தின உதவி:
```php
$request->header('host');
```
தலைப்பு பட்டியலில் அதுவாக்கம் இல்லையாமல் இருக்கின்றார் என்றால், null ஐ மாற்றும். எல்லா எழுத்துக்களும் மெல்லை சிறிய எழுத்துக்களுக்கு மாறிவந்துள்ளன.

**தலைப்பு பட்டியலின் ஒரு மதிப்பை காண்க**
```php
$request->header('host', 'localhost');
```
நீங்கள் அரிமானமாகஇருந்து சொல்லிப் பெறும் மதிப்பைக் காண்கள்.
```php
$request->header('host', 'localhost');
```
## குக்கிகளைப் பெறுக
**முழுதும் குக்கி பட்டியலைப் பெறுங்கள்**
```php
$request->cookie();
```
கேள்வியை கேட்கிற போது குக்கிகள் இல்லையாமல் இருக்கின்றதாக ஒரு காலிய பட்டியாகக் கண்டுபிடிக்கப்படுகிறது.

**குக்கி பட்டியலில் ஒரு மதிப்பைக் கண்டறிக்கவும்**
```php
$request->cookie('name');
```
குக்கி பட்டியலில் அதுவாக்கம் இல்லையாமல் இருக்கும்என்றால் null ஐ பின்வரும். அனைத்து உயிரிலிருந்துசிறிய எழுத்துக்களிக்கும் மாற்றம் விரைவில் செய்யப்பட்டுள்ளது.

**குக்கி தொடரின் இரண்டு மதிப்புகளைப் பெறுங்கால்**
```php
$request->cookie('name', 'tom');
```

## அனைத்து உள்நுழைவுகளைப் பெறுக
அதனால் இருக்கும் `போஸ்ட்` `கெட்` சண்டை.
```php
$request->all();
```

## குறிப்பில் உள்நுழைவு மதிப்பைப் பெறுங்கள்
`போஸ்ட்` `கெட்` சண்டையில் ஒரு மதிப்பைப் பெறுங்கள்.
```php
$request->input('name', $default_value);
```
## பதிவுப்பாளர் உள்ளடக்கம்
`போஸ்ட்` மற்றும் `கெட்` இருந்து சில தரவைப் பெறுவதற்கு பயனாகும்.
```php
// பயனர் பெயர் மற்றும் கடவுச்சொல் முனையமா உள்ள பட்டியலைப் பெறுங்கள், பின்னணி பொருந்தல் வழிகளை புறக்கணிக்குங்கள்
$only = $request->only(['username', 'password']);
// அவதானமாக அல்லது அவதானமில்லாத தரவைப் பெறுங்கள்
$except = $request->except(['avatar', 'age']);
```
## பதிவு செய்து பெறுகிறது
**முழு பதிவு கூறுகளை அனுப்புக**
```php
$request->file();
```

படிவத்தை மாற்றம் செய்வதற்கு உலாவப்படும் காண ரீதி:
```html
<form method="post" action="http://127.0.0.1:8787/upload/files" enctype="multipart/form-data" />
<input name="file1" multiple="multiple" type="file">
<input name="file2" multiple="multiple" type="file">
<input type="submit">
</form>
```

`$request->file()` மட்டும் ஒரு பின்முனை, அதன் பின் `webman\Http\UploadFile` ஐயோ ஆவணம். `webman\Http\UploadFile` வரிசையை PHP வரையறு [`SplFileInfo`](https://www.php.net/manual/zh/class.splfileinfo.php) class ஆனது.

```php
<?php
namespace app\controller;

use support\Request;

class UploadController
{
    public function files(Request $request)
    {
        foreach ($request->file() as $key => $spl_file) {
            var_export($spl_file->isValid()); // கோப்பு செய்யப்படுகின்றதா அல்லது இல்லை, true|false
            var_export($spl_file->getUploadExtension()); // பதிவு செய்யப்பட்ட கோப்புப் பெயர், உதாரணம் 'jpg'
            var_export($spl_file->getUploadMimeType()); // பதிவு செய்யப்பட்ட கோப்புப் mime வகை, உதாரணம் 'image/jpeg'
            var_export($spl_file->getUploadErrorCode()); // பதிவு செய்யப்பட்ட பிழை குறியீடு, உதாரணம் ஆக UPLOAD_ERR_NO_TMP_DIR UPLOAD_ERR_NO_FILE UPLOAD_ERR_CANT_WRITE
            var_export($spl_file->getUploadName()); // பதிவு செய்யப்பட்ட கோப்பின் பெயர், உதாரணம் 'my-test.jpg'
            var_export($spl_file->getSize()); // கோப்பின் அளவை பெறுக, உதாரணம் 13364; பைட்டு அளவில்
            var_export($spl_file->getPath()); // பதிவு செய்யப்பட்ட கோப்பின் பாதையை பெறுக, உதாரணம் '/tmp'
            var_export($spl_file->getRealPath()); // தற்காலிக கோப்பின் பாதையை பெறுக, உதாரணம் `/tmp/workerman.upload.SRliMu`
        }
        return response('ok');
    }
}
```

**குறிப்புகள்:**

- பதியப்பட்ட கோப்புகளின் தற்காலிக ஆவணத்தின் பெயர் ` /tmp/workerman.upload.SRliMu ` ஆகும்.
- ஆம், அப்பால் பதிக்கின்ற ஆவணம் மீது அளவிடப்படும் [defaultMaxPackageSize](http://doc.workerman.net/tcp-connection/default-max-package-size.html), இது இயல்பாக 10M; இதை `config/server.php` கோப்பில் `max_package_size` மூலம் மாற்றி உள்ளியலாம்.
- பதியப்பட்ட பின்னர், தற்காலிக ஆவணம் சூழலின் மீற்றம் அழிக்கப்படும்.
- கோப்பு கேட்கப்படாதுபெற்றால், `$request->file()` அச்சிடும் ஆசில் ஆகும்.
- பதியப்பட்ட கோப்புகளை "move_uploaded_file()" முறையை பின்பற்ற முடியாது, அப்பால் `$file->move()` முறையைப் பயன்படுத்தலாம். கீழே உள்ள உதாரணத்தைப் பார்க்க.

### குறிப்பாக, தெரிவுச்செய்யப்பட்ட கோப்பு
```php
$request->file('avatar');
```

பொருள் கோப்பு உள்ளதுபெற்றால், `webman\Http\UploadFile` அச்சிடும்; இல்லையானால் இது சேர்க்கப்படும்.

**உதாரணம்**
```php
<?php
namespace app\controller;

use support\Request;

class UploadController
{
    public function file(Request $request)
    {
        $file = $request->file('avatar');
        if ($file && $file->isValid()) {
            $file->move(public_path().'/files/myfile.'.$file->getUploadExtension());
            return json(['code' => 0, 'msg' => 'upload success']);
        }
        return json(['code' => 1, 'msg' => 'file not found']);
    }
}
```
## ஹோஸ்ட் அலுவல் பெறுக
பயனரின் கோரிக்கையைப் பெற இந்த குறியீட்டின் அரசாங்கத்தின் எல்லா வகைகளிலும் அலுவலைப் பெறுகிறது.
```php
$request->host();
```
கோரிக்கையால் ஹோஸ்ட் புலவங்களை அனுமதிக்கின்ற நிலையில் மட்டும் இந்த சொற்களில் எதிர்காண்பது வேண்டும். 

```php
$request->host(true);
```

## கோரிக்கையால் பயனர்கள் பதிலளிக்கும் வகைகளை இந்த செயலியில் நிறுத்தல் வேண்டும்: `GET` அல்லது `POST` அல்லது வகையான கேள்விகள்.

## பதிலளிக்கப்பட்ட அலுவகை பெறு
```php
$request->uri();
```
இது கூடுதல் அமைப்புகளையும் கொஞ்சம் கொஞ்சம் பெறுகிறது.

## பதிலளி பெறு
```php
$request->path();
```
கூடுதல் பாதை அமைப்பைப் பெறுகிறது.

## கொஞ்சம் அமைப்புகளின் வினாக்கவிருக்கிற கூடுதல் விசைப்படுத்தல்
```php
$request->queryString();
```
## URL සපිරැසිය

`url()` යනු දත්ත අගයක් සංස්කරණකර URL එකකි.
```php
$request->url();
```
`//www.workerman.net/workerman-chat` වෙනවා සඳහා නාමාව.

`fullUrl()` යනු `query` එකක හෝ URL එකක සඳහා නාමාව.
```php
$request->fullUrl();
```
`//www.workerman.net/workerman-chat?type=download` වෙනවා සඳහා නාමාව.

> **සඳහනිය**
> `url()` සහ `fullUrl()` පිටුවේ වටවංකගත නොවේ නමි. හෝ කිහිපයයි ළපයක් HTTP හෝ HTTPS සහිත නමි. 
> සියයයතුනමි browser අත්සිද්ඕ://example.com කි. ඒ අනීලරකුණල HTTP සහිත request කරනි `//` කොටුව 
> අනීපණ  browser සඳහා `//` සත්යා ලබාගැනීමට මෙම URL එක විශ්ෂිවූවනි.

nginx වෙල් රජ අනනාඅටය headlights proxy_ set_ header X-Forwarded-Proto $scheme; අනිව්රහ හහ් රජ. නිපදගත සහායි. සඳහාන් හකාෆමක එඔ `request-> header('x-forwarded-proto');` හා  HTTP හෝ HTTPS හා වැබි. ලද clove
```php
echo $request->header('x-forwarded-proto'); // ෱මි වෙන URL හෝ https වෑබැල්බාන්.
```

## සංස්කරණණදුක් HTTP සංස්කරණණදුක් සංස්කරණඛ

```php
$request->protocolVersion();
```
'1.1' හෝ '1.0' වේ හොවහොයි.
## உபயோகக்காரர் தவிர்க்க ஏதேனும் இந்திய மாகாணம் குறித்த தரவுகளைப் பெறவும்
```php
$request->getRemoteIp();
```
## பயனர் உச்ச மடக்கினிராக்க போர்டைக் காண்க
```php
$request->getRemotePort();
``` 
## பயனர் மாணவிமார் உண்மையான IP ஐபி பெறுங்கள்
```php
$request->getRealIp($safe_mode=true);
```

மின்னஞ்சல் (எனது கவனத்தில் எனது ஜின்ஜியைப்) பயன்பாட்டு (உள்ளிடுகின்ற தடவை மற்றும் 127.0.0.1 இதை அல்லது உள்ளி) `$request->getRemoteIp()` என்னும் குழு (உள்ளிடப்பட்ட அல்லது பரிசோதனை செய்யப்பட்ட ஆபுல்) மின்னஞ்சல் சேவையகத்தின் ஐபி ஐபி பெறுகிறது. அதனால் `$request->getRealIp()` பயன்படுத்தி பயனர் உண்மையான ஐபி ஐபி பெறுகிறோம்.

`$request->getRealIp()` உள்ளிணைக்கும் ஐபி HTTP முகவரக் குறிப்புகள் `x-real-ip`, `x-forwarded-for`, `client-ip`, `x-client-ip`, `via` என்று குறிப்புகளிலிருந்து பெறப்படுகின்றது.

> HTTP முகவரக் குறிப்புகள் மேலே குறிப்புச் செய்த கட்டம் செய்யப்படும், எனவே இந்த முறை பெறும் ஐபி 100% நம்பகமாக இல்லை, அது சாத்தியமாக `$safe_mode` மூலம். பொருளடக்கம் உள்ளிடப்பட்ட சார்ந்தது, பொதுவாக அனாபூர்விகளாக அமைந்து பயனர்கள் உண்மையான ஐபி ஐபியைப் பெற பெறப்படும் `மேலும்` `உண்மையான ஐபி ஐபியைக் கொண்ட குறிப்பை` மூலம் ஐபி ஐபியைப் பெறப்படும்  மேலும் முசைகளைப் பெற முடியும்.
## சேவையக ஐபி ஐபி பெறுங்கள்
```php
$request->getLocalIp();
```
## சேவையக ஏசியைப் பெறுங்கள்
```php
$request->getLocalPort();
```
## அஜாக்ஸ் வேட்பாளர் அமைப்பையும் எப்படி அதனை அடையாளம் எடுப்பதுபற்றி
```php
$request->isAjax();
```
## pjax வேட்பாளர் எப்படி அதனை அடையாளம் எடுப்பதுபற்றி
```php
$request->isPjax();
```
## மெய்யழிக்கப்பட்ட json பதிலை எதுவென்றால் எப்படி அதை அடையாளம் எடுப்பதுபற்றி
```php
$request->expectsJson();
```
## வாடிக்கையாளர் json பதிலை எப்படி எடுக்கும் என்பதை அடையளம் எடுப்பதுபற்றி
```php
$request->acceptJson();
```
## கோரிக்கையின் சேர்க்கைக்கு பெயர் பெறவும்
செருகினிலிருந்தும் பெயர்ந்த கோரிக்கை வேறுபாடு பெறாமல் மூடப்பட்ட மூலங்களைக் காண்பிக்கும் `''` புதிய திசையில் புதியவரை வழங்குகின்றன.
```php
$request->plugin;
```
> இந்த அம்சமும் வேப்மேன்> = 1.4.0
## பயனர் கேள்விகளின் பெயரைப் பெறவும்
ஒரு உத்திகாணை உருவாக்குநரின் பெயரை மீண்டும் விரும்புகிறது.

```php
$request->app;
```

> பகிரவிருக்கும் மென்பொருள் எவ்வாறு மென்பொருள், எந்த விழுக்கானதையும் வெளிப்படுத்துகிறது `உங்கள்-> செல்` அல்லது `''` அல்லது அமர் `உங்கள் நிலையம்`.

பயனர் வகையைப் பெறுதல்
பயனர் குறிப்பிடம் வகைக்கு பெயர் 
```php
$request->controller;
```
"app\controller\IndexController" மாற்றம் பெறுகிறது.

> ஒருவர் முடிவுகளில் மட்டுமே $request->controller மற்றும் $request->action க்கு பெயரை மாற்றலாம், உள்ளடக்கத்தில் ஒரு அட்டவணையை முதலில் விரிக்கலாம்.
> முடிவுகளுக்கான மற்றும் மேலதிக விஷயங்களுக்கான பார்வையிட [பார்வையிட](route.md)
