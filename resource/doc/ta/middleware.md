# மிடில்வேர்
நடப்புடன் நிறுவல் அல்லது பதில் படுத்தல்களுக்கு மித்துவாக மையப்படுகின்றனவோ என்பது பொதுவாக பயன்படுகின்றது. உதாரணமாக, ஒரு கட்டுப்பாடுகளைச் செய்து நீங்கள் பயனரின் அடைவை ஒப்புக்கொண்டுபார்க்க மின்னஞ்சலைப் பயன்படுத்தலாம். உதாரணமாக, பயனர் உள்நுழைவதில் பிழை ஏற்பட்டால் உள்நுழைவு பக்கத்திற்கு கூட்டப்படும், உதாரணமாக உரையினைப் பெறும் தலையான வழு. உதாரணமாக, ஒரு URI கோரிக்கையின் பிரிவுகளைப் பட்டெடுக்க பயன்படுத்தலாம் முதன்முதலில் முழுவதும் மாறும் வரை எண்ணிப் பயன்படும்.


மிடில்வேர் மற்றும் கட்டுப்பாட்டு ஒரு மிகுந்தவைகள் ஆனவைகளாகும், அவை மிடில்வேர் ஒன்றுக்கு ஒரு உத்தரவாக மிகுந்தமாகவே உள்ளன, கட்டுப்பாட்டிலுள்ளது ஆங்கிலமாகும் கிட்டியவும் செயல்படுத்தப்படும் வறுமை ஒரு அடைக்குமுறை போன்று உள்ளது. கோண்ட்ரோலர் உஅர்த்தத்துக்குள் வரும் கோண்ட்ரோலருடன் முடிக்கப்பட்டார் என்றும், மிடில்வேர் கோண்ட்ரோலர் பதிலாக ஒரு புதிய பதிலை அளிக்க முடிவும் உண்டாகின்றனர். இப்படியான கோண்ட்ரோலர் ஒட்டுமெய்யும் முடிந்துவிட நிலைபெறுகிறன, பின்பு ஒரு பதிலை எடுக்க முடியும், பின்பு பின்பு 3,2,1 ஆக மிடில்வேர் வரும் எப்படியாவது இம்முடியில் கட்டப்பட்டது. இதுவரை உலாவிடமான அனைத்து இடங்கள் நிகழ்ந்து வந்தன, கட்டப்பட்டது வாழ்கின்ற வண்ணமிடும் பதில்கள் மீண்டும் புறநிலைக்கு வருகின்றன. இதனால் ஒரு வினைக்கு ஒரு மிடில்வேர் உள்ளது மற்றும் அதனால் செயல்படவில்லை வேண்டும்.
சேமிப்பிடல் மொழியில் அமைக்கப்பட்ட webman என்ற உயர் செயற்பாட்டு PHP கட்டமைப்புத் தொகுப்பு, முதன்முதலில் கொள்ளையடியான முறையில் இப்படியான ஒரு கேள்வி உள்ளது,  ஒவ்வொன்றாலும் அமைக்க விரும்பும் அரட்டை தகவலை கட்டமைப்பாளர் அடைந்துவிடுவார், உதாரணமாக, நாங்கள் middleware2 இல் தற்போது உபயனர் உள்நுழைவதையும் சோதிப்பதில் காணாமல் உள்ளதாக நாங்கள் கட்டமைப்பை நடவடிக்கை எடுக்க முடியும், அப்படியே தனி கொள்கை என்றால், இந்த பிரகலனம் பொயாகலின் மீண்டும் ம clientsக்கு பின்னர் மீண்டும் சேரலாம்
தீர்மிகுதி வழியில் தினமும் வழங்கப்படும் பதில்கள்.

```
                              
            ┌────────────────────────────────────────────────────────────┐
            │                         middleware1                        │ 
            │     ┌────────────────────────────────────────────────┐     │
            │     │                   middleware2                  │     │
            │     │          ┌──────────────────────────────┐      │     │
            │     │          │        middleware3           │      │     │       
            │     │          │    ┌──────────────────┐      │      │     │
            │     │          │    │                  │      │      │     │
   ── கேள்வி───┬────────┐     │    │    Controller    │      │      │     │
            │     │ பதில் │    │    │                  │      │      │     │
   ◁───────────────────┴────┘     │    └──────────────────┘      │      │     │
            │     │          │                              │      │     │
            │     │          └──────────────────────────────┘      │     │
            │     │                                                │     │
            │     └────────────────────────────────────────────────┘     │
            │                                                            │
            └────────────────────────────────────────────────────────────┘
```

காட்சியின் போது middleware2 க்குவந்த கேள்வியில் புகழ்பெற்ற பதிலாக ஒன்றை உருவாக்கியிருக்கின்றது, பெற்ற பதில் middleware2 மூலம் செல்லும் அனைத்து மடங்குகளுக்கும் சேர்க்கப்படும்.
## மையம் படி
மையம் தனிப்பட்ட `Webman\MiddlewareInterface` படி நடத்தும் வேலைமுகம்.
```php
interface MiddlewareInterface
{
    /**
     * Process an incoming server request.
     *
     * Processes an incoming server request in order to produce a response.
     * If unable to produce the response itself, it may delegate to the provided
     * request handler to do so.
     */
    public function process(Request $request, callable $handler): Response;
}
```
அதனால் `நடவடிக்கை` வெளிப்படைப்படுத்த வேண்டும் , `மையம்` செயல்படுத்த வேண்டும், `வழக்கப்படுத்த முடியாததாக` இருந்தால் அதை வழங்குவதற்கு `வழங்குநர் கடுப்பதன்` போதுமானதோ செயல்படுத்த பலவகையான `பதில் (response)` முடிவுகளைப்` பயன்படுத்தலாம் (வழங்குநர் கடுப்பதன் மூலம் கடைப்பிடிக்கும்) பதில் கடக்குவதற்கு `வழங்குநர்` மூலம் கடைப்பிடிக்கப்படுகின்றன .

## கோண்ட்ரோல்லரால் கேட்கப்பட்ட கோவைமுறையான முறை மற்றும் பதில்
கேட்கப்படும் மூலத்தில் நாம் கேட்டியமைப்பைப் பெறலாம், மேலும் நிரப்பிய கோவைமுறையான பதிலையும் பெறலாம். எக்காலத்திலும் மையத்தின் மூலத்தின் உடன் மூன்றாம் பகுதியாக இருக்கின்றது.
```php
<?php
namespace app\middleware;

use Webman\MiddlewareInterface;
use Webman\Http\Response;
use Webman\Http\Request;

class Test implements MiddlewareInterface
{
    public function process(Request $request, callable $handler) : Response
    {
        echo 'இங்கே கோவைமுறையானது என்று கொண்டு பேசப்படுகிறது,எனக்குப் பதிலை அணுக முடியும்';
        
        $response = $handler($request); // கொண்டுவர மையத்தின் மூலத்தில், கட்டபெருக்கப்படும் மூலத்தில் முடிவுகளைப் பெறுகின்றது
        
        echo 'இங்கே பதில் அணுகவாயில்,அத்துடன் மூன்றும் பாகுபடுதல் இருக்கின்றது';
        
        return $response;
    }
}
```
## உதாரணம்: அங்கீகரிப்பு மைத்தியம்
கோப்பை `app/middleware/AuthCheckTest.php` ஆக உருவாக்கவும் (அடிப்படையின் பக்கம் இல்லையெனில் காரியமாக உருவாக்க வேண்டியுள்ளது)

```php
<?php
namespace app\middleware;

use ReflectionClass;
use Webman\MiddlewareInterface;
use Webman\Http\Response;
use Webman\Http\Request;

class AuthCheckTest implements MiddlewareInterface
{
    public function process(Request $request, callable $handler) : Response
    {
        if (session('user')) {
            // உள்நுழைந்துள்ளது, வேலை தொடர்க எண் திரும்பி
            return $handler($request);
        }

        // கண்டெடுக்கப்பட்ட முறையில் உள்நுழைய வேண்டும் என்று கண்டறியப்பட்டது
        $controller = new ReflectionClass($request->controller);
        $noNeedLogin = $controller->getDefaultProperties()['noNeedLogin'] ?? [];

        // அணுகல் தேவைப்படும் முறை
        if (!in_array($request->action, $noNeedLogin)) {
            // கோரிக்கையை முடக்கு, ஒத்திசைவு பின்னர் அழுத்த ஒரு மீட்டமைப்பு பின்னர், அங்கு எண்ணெய் மேல் சென்று அணுக நிறைய கோரிக்கைகள் செல்லும்
            return redirect('/user/login');
        }

        // உள்நுழைய வேண்டாம், வேலை தொடர்க எண் திரும்பி
        return $handler($request);
    }
}
```

புதுப்பிப்பி `app/controller/UserController.php`

```php
<?php
namespace app\controller;
use support\Request;

class UserController
{
    /**
     * உள்நுழைய வேண்டாம் பயன்பாடுகள்
     */
    protected $noNeedLogin = ['login'];

    public function login(Request $request)
    {
        $request->session()->set('user', ['id' => 10, 'name' => 'webman']);
        return json(['code' => 0, 'msg' => 'உள்நுழைவு நிராபகமானது']);
    }

    public function info()
    {
        return json(['code' => 0, 'msg' => 'நிராபகமானது', 'தரவு' => session('user')]);
    }
}
```

> **குறிப்பு**
> `$noNeedLogin` இல் தற்போது நிரலைப் பயன்படுத்தாமல் உள்நுழைவு முறைகள் பதிவிடப்படுகின்றன.

`config/middleware.php` இல் உலாவி மைத்தியங்களைச் சேர்க்கவும்

```php
return [
    // உலாவி மைத்தியங்கள்
    '' => [
        // ... மற்ற மைத்தியங்களை இதில் தவிர்த்து வைத்துப் போடவும்
        app\middleware\AuthCheckTest::class,
    ]
];
```

அங்கீகரிப்பு மைத்தியம் உள்ளது என்பதால், நாங்கள் வளர்ப்பைப் பார்க்கும்போது வல்லின உள்ளூரி மூலமாக வேலை செய்யும் வல்லியத்தை எழுத முடியும்.
## மாதிரி: யாத்திரையை மைட்டில் சேர்க்கவும்
கோப்பை `app/middleware/AccessControlTest.php` ஆக உருவாக்கவும் (மூலை இல்லையானால் தயவுகாத்தல் தயவுகாத்தும்) பின்கொடுக்கப்பட்டது:
```php
<?php
namespace app\middleware;

use Webman\MiddlewareInterface;
use Webman\Http\Response;
use Webman\Http\Request;

class AccessControlTest implements MiddlewareInterface
{
    public function process(Request $request, callable $handler) : Response
    {
        // பிரச்சினையினால் போட்டியுள்ளது ஒரு வெற்றுயர்ந்த பதிலை புரட்சியாக்குகிறதுஷ்முலமோஸ் ரிடர்கிறது ஒரு பதிலை பெற, தேவையானால் OPTIONS கோரிக்கையால் ஒரு கட்டளை பின்வரும்
        $response = $request->method() == 'OPTIONS' ? response('') : $handler($request);
        
        // பின்வரும் தரவுகள் மூலப்படுத்துபவர்களைப் பதிவு செய்வதன் மூலம் தொடர்வான டர்வு 
        $response->withHeaders([
            'Access-Control-Allow-Credentials' => 'true',
            'Access-Control-Allow-Origin' => $request->header('origin', '*'),
            'Access-Control-Allow-Methods' => $request->header('access-control-request-method', '*'),
            'Access-Control-Allow-Headers' => $request->header('access-control-request-headers', '*'),
        ]);
        
        return $response;
    }
}
````

> **உதவி**
> மேலும் விவரங்களுக்கு படிவம் கேட்டால், OPTIONS கேட்கையில் முன்னர் மூலையில் பின்வருக்கப் பட வேண்டும் என்பதை எடுத்துக்கொள்ளுங்கள் (`response('')`) கேட்கை மீண்டும் எடுத்துக்கொள்ளுங்கள். 
> உங்கள் api-யில் வழு வழங்கி உள்ளதைப் பதிவிறக்க வேண்டுமா என்பதையும், Route::any(...) அல்லது Route::add(['POST', 'OPTIONS'], ...) பயன்படுத்தி அதை அமைக்க வேண்டும்.

`config/middleware.php` யில் புரளியாக்கம் சேர்க்கவும்:
```php
return [
    // புதுமதிப்பு புரளியாக்கம்
    '' => [
        // ... மேற்கோள் புரளி தவிர
        app\middleware\AccessControlTest::class,
    ]
];
```

> **குறிப்பு**
> மொழியாக்ஸ் கேட்டால், செயற்பாட்டாளர் `பதிலாக` விருத்தமான பதிலைத் திருப்புகின்றன (`response('')`).
## விளக்கம்

- மைட்டில்வேர் முழுமையான, பயன்பாட்டு மற்றும் வழங்குபவர் மைட்டில்வேர் கூடுதல் வகைகளுக்கு பிரித்துவிட்டது (பயன்படுத்துவது வல்லபாண்டு)
- தற்காலிகமாக ஒரு கட்டளையை நிர்வாகிப்பவர் மைட்டில்வேர் கூடுதல் வினாவுகளை ஆதரிக்காவிட்டார் (ஆனால் `$request->controller` வழியாக மைட்டில்வேர் மைட்டில்வேர்ப் பணி செய்ய முடியும்)
- மைட்டில்வேர் கட்டமைப்பு கோப்பு `config/middleware.php` இல் வருகிறது
- முழுமையான மைட்டில்வேர் உள்ளடக்கம் மேல் குருக்கிணி `''` கீக்குள் உள்ளது
- பயன்பாடு மைட்டில்வேர் அமைப்பு கட்டமைக்கப்பட்டது, உதாரணமாக

```php
return [
    // முழுமையான மைட்டில்வேர்
    '' => [
        app\middleware\AuthCheckTest::class,
        app\middleware\AccessControlTest::class,
    ],
    // ஆப்லிகேஷன் மைட்டில்வேர் (பயன்பாடு மைட்டில்வேர் பல பயன்படகைவிடாது)
    'api' => [
        app\middleware\ApiOnly::class,
    ]
];
```

## வலய மைட்டில்வேர்

நாங்கள் ஒரு அல்லது மேற்பட்ட வலைப்பாட்டுகளுக்கு மத்தியிலிருந்து அல்லது குழுவாக மைட்டில்வேரை அமைக்க முடியும்.
உதாரணமாக `config/route.php` இல் கீழே பதிவை சேர்க்கவும்:

```php
<?php
use support\Request;
use Webman\Route;

Route::any('/admin', [app\admin\controller\IndexController::class, 'index'])->middleware([
    app\middleware\MiddlewareA::class,
    app\middleware\MiddlewareB::class,
]);

Route::group('/blog', function () {
   Route::any('/create', function () {return response('create');});
   Route::any('/edit', function () {return response('edit');});
   Route::any('/view/{id}', function ($r, $id) {response("view $id");});
})->middleware([
    app\middleware\MiddlewareA::class,
    app\middleware\MiddlewareB::class,
]);
```
மதிப்பு சட்டம் ```config/middleware.php``` ஆனது, constructor மூலம் middleware க்கு பதிவிட முடியும் என்று எனது அரிய எண்ணிக்கை 1.4.8 பதிப்பின் பின்னணி ஆவதும் கூடியது.

எடுத்துக்காட்டப்பட்டது
```
return [
    // முழுதுமை மிட்டாப்கள்
    '' => [
        புள்ளியல்வாயிலானவை\நிரல்\அடுக்கு\AuthCheckTest($மாணவர்1, $மாணவர்2, ...),
        function(){
            return புள்ளியல்வாயிலானவை\அணுகல்\அடுக்கு\AccessControlTest($மாணவர்1, $மாணவர்2, ...);
        },
    ],
    // api பயன்பாடு மிட்டாப்கள்(பயன்பாடு மிட்டாப்கள் பல பயன்பாடு மாநிலத்தில் மட்டுமே சரியாகத் திரும்பும்)
    'api' => [
        பயன்பாடு\அடுக்கு\ApiOnly::class,
    ]
];
```

அதுபோல, route middleware மற்றும் constructor மூலம் மிட்டாப்களுக்கு மதிப்புகளைத் தருவதும் முடியும், எடுத்துக்காட்டப்பட்ட ```config/route.php``` இல்
```
Route::any('/நிர்வாகம்', [நிர்வாகம்\நிர்வாகம்\வலையப்பகுதி_நிர்வாகம்::class, 'இடைப்பு'])->மிட்டாப்கு([
    புள்ளியல்வாயிலானவை\மிட்டாப்கு\MiddlewareA($மாணவர்1, $மாணவர்2, ...),
    function(){
        return புள்ளியல்வாயிலானவை\மிட்டாப்கு\MiddlewareB($மாணவர்1, $மாணவர்2, ...);
    },
]);
```

## மிட்டாப்கு இயக்க வரிசை
 - மிட்டாப்கு இயக்க வரிசை ஆனது `முழுமேல் மிட்டாப்குகள்`->`பயன்பாட்டு மிட்டாப்கள்`->`பாதை மிட்டாப்கள்` ஆகிவிடும்.
 - பல முழுமைமிட்டாப்குகள் உள்ளபோது, மிட்டாப்பகைப்பட்டதையும் மிட்டாப்பகைப்பாடுகளையும் முதன்முதலில் உள்ளன என்பதை பார்த்துக்கொள்ளும்.
 - 404 கோரிக்கை எந்த மிட்டாப்பகைப்பாடும் ஏற்படுத்தப்படாது, முழுமைமிட்டாப்குகளையும் வரைபிடமிடாப்பகைப்பாடுகளையும் அதிகாரமிப்பது.
மைக்கு Patton மிடிக்கணியிலிருந்து உள்ள தரவை கட்டுப்படுத்துவதன் மூலம், கட்டுப்படுத்தப்பட்ட தரவுகளை மேலாளரிடம் அனுப்ப முடியும்.உதாரணமாக, மிடிக்கணியில் உருவாக்கப்பட்ட மறைப்புகளை காண்பிக்கலாம். 

மீண்டும், கொடுக்கப்பட்ட தரவை கட்டுப்பதற்கான மறுமொழிபெயர்ப்பு:

## வழி மைக்கணியிடத்தில் பதிவிறக்கம் செய்யப்படும் தரவு (மைக்கண்-> setwParams)

**வழி கட்டமைப்பு `config / route.php`**
```php
<?php
உபயோகத்தைப் பயன்படுத்தி;
ஜனங்கள் வழிப்பொருள்;

வழி :: எந்த பக்கம்('/சோதனை', [பயன்பாட்டு\ கட்டுப்பாட்டு\ இணையக்கலையம்::class, 'செயலியை'])-> setwParams(['ஒரு_முக்கியமான' =>'ஒரு மதிப்பு']);
```

**மைக்கநிட்டில் (`முழுதும்_தவிர்ப்பு` என்பதால் குறிப்பிடப்படுகிறது)**
```php
<?php
namespace app\மிடிக்கைகள்;

உதவி மைக்கணியும்;
உதவி பகிர்ந்து கிடைக்கும் பெயரில்;
உதவி படியே செயற்படுகிறது (வார்ப்பு $request, உருவாக்க Ontario $மெனப்படுத்தி) : பின்புலம்
{
    // இயல்புள்ள வழி $request-> வழி ஒருவரிடத்தில் ஒருபோதுமறை, அதாவது $request வழி அல்லது அப்படியானால் அல்லதுபழகு வேண்டியதுதனா.
    கட்டுப்பாடு $ஏற்பாடு = $வழி->பதிவை('ஒரு_முக்கியமான');
    var_export($மதிப்பு);
    முடிவு $பராமரிப்பு($வேலையானில்);
}
}
```
 
## மைக்கணி கூகுளில் பரப்பப்பட்ட தரவைப் பெறுங்கள்

கட்டுப்பாட்டில் உள்ளிடுக்கப்பட்ட சொந்த தரவைப் பெறுவதன் மூலம், மைக்கணியிலிருந்து செயல்படுத்த வேண்டிய பிரபல தரவைக் கொண்ட ஒப்பந்திகளை சேர்க்கலாம். உதாரணமாக:

**மதிப்புகள்**
```php
<?php
namespace app\மிடிக்கைகள்;

உதவி மைக்கணியும்;
உதவி பகர்ந்து கிடைக்கும் பெயரில்;
உதவி படியே செயல்படுகிறது ($வார்ப்பு $விண்ணிலன், உருவாக்க Ontario $மெனப்படுத்தி) : முறை பிணைப்பு
{
    $விண்ணிலன்->தர மாறியமை($தரவு = 'ஒரு மதிப்பு');
    முடிவு $படிவம்($வேலையாக);
}
```
**கட்டுப்பாட்டுப் பகுதி:**
```php
<?php
namespace app\கட்டுப்பாட்டு;

உதவி கோரிக்கை;

use support\Request;

வகை FooController
{
    முழுதும் index(Request $request)
    {
        முடிவு மீண்டும்($request->தர);
    }
}
```
## மைக்கிட்டிவு தற்போதைய கோரியின் தரவைப் பெறுவது
> **குறிப்பு**
> webman-framework >= 1.3.2 தேவைப்படுகின்றது

மாணவர்கள் `$request->route` ஆனது பாதிப்பைப் பெற முடியும், தேர்ந்தெடுப்பதற்கு ஏற்கனவேயுள்ள அமைப்பைப் பெற_app_._பயன்படுத்தி மொழிக்குறியீட்டு அணுகல்களைப் பெற முடியும்.


**பாதிப்பு கட்டமைப்பு**
```php
<?php
use support\Request;
use Webman\Route;

Route::any('/user/{uid}', [app\controller\UserController::class, 'view']);
```

**மைக்கிட்டிவு**
```php
<?php
namespace app\middleware;

use Webman\MiddlewareInterface;
use Webman\Http\Response;
use Webman\Http\Request;

class Hello implements MiddlewareInterface
{
    public function process(Request $request, callable $handler) : Response
    {
        $route = $request->route;
        // கேட்பாரால் வேண்டிய ஒவ்வொரு பாதிப்புக்கும் கோரியை பெற முடியாது (இயல்பாக வசதி பாதிப்பு), ஆனால் நீங்கள் உங்கள் உலாவிப் பக்கத்தை ஆபர் புதனான முனைய அணுகலின் மூலம் அணுக முடியும்.

        // உதவி
        if ($route) {
            var_export($route->getPath());       // /பயனர்/{uid}
            var_export($route->getMethods());    // ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD','OPTIONS']
            var_export($route->getName());       // user_view
            var_export($route->getMiddleware()); // []
            var_export($route->getCallback());   // ['app\\controller\\UserController', 'காண்க']
            var_export($route->param());         // ['uid'=>111]
            var_export($route->param('uid'));    // 111 
        }
        return $handler($request);
    }
}
```

> **குறிப்பு**
> webman-framework >= 1.3.16 தேவைப்படுகின்றது `$route->param()`முறை
## மதிப்பிட்டிகளைப் பெறும் இடமாற்றி
> **அபிஷ்டப்படி**
> webman-framework >= 1.3.15 தேவை

வணிக செயற்கையகத்தில் பிரச்சினை ஏற்பட முடியும், இடமாற்றி போன்ற மைதானங்களில் `$response->exception()` பயன்படுத்தவும்.

**வழிச்செலுத்தல் தரவமைப்பு**
```php
<?php
use support\Request;
use Webman\Route;

Route::any('/user/{uid}', function (Request $request, $uid) {
    throw new \Exception('exception test');
});
```

**மைதானம்:**
```php
<?php
namespace app\middleware;

use Webman\MiddlewareInterface;
use Webman\Http\Response;
use Webman\Http\Request;

class Hello implements MiddlewareInterface
{
    public function process(Request $request, callable $handler) : Response
    {
        $response = $handler($request);
        $exception = $response->exception();
        if ($exception) {
            echo $exception->getMessage();
        }
        return $response;
    }
}
```

## மிக பொருத்த மூலம் மைதானம்

> **அபிஷ்டப்படி**
> இந்த அம்சம் webman-framework >= 1.5.16 ஐத் தேவைப்படுகின்றது

முதன்முதல் திட்டத்தின் முழுமையான மூலம்கள் பிரதம திட்டமாகிவிடுகின்றன, [பயன்பாட்டு பிளகின்களை](app/app.md) மூலம் அவற்றுக்கு எந்தவொண்டையவாறும் அபிகரிக்காமல் உள்ளனர். சில நேரங்களில், நாங்கள் அனைத்து பிளகின்களுக்கும் ஒரு ஆதரவாக எந்தக் கட்டாயமும் சேர்ப்பதில் ஆர்வமாகும், இதனுடன் செயல்பாட்டத்தின் மூலணத்தில் மிக பொருத்த மூலம் பயன்படுத்தலாம்.

`config/middleware.php` உள்ள கட்டமைப்பில் இந்தச் செயல்பாட்டைக் கண்டுபிடிக்கவும்:
```php
return [
    '@' => [ // பிரதம திட்டத்தையும் அனைத்து பிளகின்களுக்கும் ஆரம்பப்படுத்து
        app\middleware\MiddlewareGlobl::class,
    ], 
    '' => [], // முழுப்பிரதம திட்டத்துக்கும் மட்டுமே பிரதம மூலாக்கப்படும்
];
```

> **பின்பற்றல்**
> `@` மிக பொருத்த மூலாக்கம் முழுப்பிரதமத்தில் அமைக்கப்படலாம், மேலும் ஏதேனும் ஒரு பிளகினின் `plugin/ai/config/middleware.php` உள்ள அம்சத்தில் `@` மிக பொருத்த மூலாக்கம் அமெக்கின்ல் எந்த பிரதமத்தையும் அச்சிடும்.
## ஒரு மொட்டைக்கு மிதக்கம் சேர்க்கும்

> **குறிப்பு**
> இந்த அம்சம் webman-framework >= 1.5.16 ஐ தேவைப்படுகிறது

சில நேரங்களில், எப்போதும் நாம் ஒரு [செயலாக்க மொட்டை](app/app.md) ஒரு மிதக்கம் சேர்க்க விரும்புகின்றோம், ஆனால் மொட்டை மேலாளர் நிரலை மாற்ற விரும்பாமல்(மேம்படுத்தப்படும் போதும் மூடப்படும்) அதை அபுரேட் செய்ய முடியும். இதை மேம்படுத்த நாங்கள் பிழை செய்ய முடியும் `config/middleware.php` இல் தொடர்ந்து அதுக்கு மிதக்கம் பகுதியில் உள்ள மொட்டையை கட்டமைக்கவும்.

```php
return [
    'plugin.ai' => [], // மிதக்கம் மொட்டைக்கு மிதக்கம் சேர்க்க
    'plugin.ai.admin' => [], // மிதக்கம் மொட்டையின் மொட்டைக்கு மிதக்கம் சேர்க்க
];
```

> **குறிப்பு**
> ஏனென்றால் மற்ற மொட்டைகளை அவைகளுக்கு விளக்கமாக அதையொட்டி போகலாம், உதாரணமாக `plugin/foo/config/middleware.php` உள்ளதைச் சேர்க்கும் போது, அது ai மொட்டையை அதே தகுதியில் மூடப்படும்.
