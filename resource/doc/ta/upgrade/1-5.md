# 1.5 மேம்படுத்தும் வழிகாட்டு

**மேம்படுத்தும் முன் காப்பீடு செய்யுங்கள், கீழே குறிப்பிட்ட கட்டளையானதுக்கான மேம்படுத்துப் படுத்துங்கள்**
`composer require workerman/webman-framework ^1.5 -W && composer require webman/console ^1.2.12 && php webman install`

# பணிகள் மற்றும் மாற்றங்கள்

workerman v5[கொரோம்](https://www.workerman.net/doc/workerman/fiber.html) ஐ ஆதரிக்கின்றது.

> **குறிப்பு**
> workerman v5 PHP>=8.1 ஐ கேவலம் ஆதரிக்கின்றது
> workerman மேம்படுத்துப் படுத்து `composer require workerman/workerman ^5.0.0 -W`
> பசயா_கொரோம் [Fiber](https://www.workerman.net/doc/workerman/fiber.html) ஐ நிறுத்துவது வேண்டுகை `composer require revolt/event-loop ^1.0.0`

# எல்லாவற்றுக்கும் உதாரணங்கள்
### தாமரை பதில்

```php
<?php

namespace app\controller;

use support\Request;
use Workerman\Timer;

class TestController
{
    public function index(Request $request)
    {
        // 1.5 வினாடிகள் உறை
        Timer::sleep(1.5);
        return $request->getRemoteIp();
    }
}
```
`Timer::sleep()` PHP இனிமை`sleep()` பணிக்கு உடையவை, வேறுபடுத்துதலே இங்கு `Timer::sleep()` பணிக்கு அடுத்தும் பணிக்கு நிறுத்தும்.

### HTTP கோரிப்பு ஆரம்பிக்கும்

> **குறிப்பு**
> நிறுவு `composer require workerman/http-client ^2.0.0`

```php
<?php

namespace app\controller;

use support\Request;
use Workerman\Http\Client;

class TestController
{
    public function index(Request $request)
    {
        static $client;
        $client = $client ?: new Client();
        $response = $client->get('http://example.com'); // ஒருபதிமை முறை கோரிப்பு ஆரம்பிக்கும்
        return $response->getBody()->getContents();
    }
}
```
அதேபோல் `$client->get()` வேறுபடுத்துதல் ஒரு தடுவிலி பணி, இது webman-ல் ஒரு தடுவிலி பணி செய்வது, செயல்பாகம் ஐ உயர்த்தும்.

மேலும் பார்க்க `workerman/http-client` (https://www.workerman.net/doc/workerman/components/workerman-http-client.html)

### ஆதரவு `support\Context` வகை 

`support\Context`  வகை ஒரு கோரிப்பு பங்குகோப்பு தரும், கோரிப்பு நிறைவேற்றப் பூஜ்ஜிகள் மேற்கோள் தருவது. கோரிப்பு உயர்ந்தல் காலம் சுருட்டுவிளைவு ஒப்புவேற்கின்றன.

### புநிய மாற்றங்கள் ஆகாது
கொரோம் சுற்றியல் நிறுத்தப்படும், பசயா_கொரோம் சூழலில் மானிக்கீடு பணியை நிலையான பார்கோளுக்கு சேமிக்கத் தேவை, உள்ளிடுவது நியாயமானதை வழங்கின.

```php
<?php

namespace app\controller;

use support\Request;
use Workerman\Timer;

class TestController
{
    protected static $name = '';

    public function index(Request $request)
    {
        static::$name = $request->get('name');
        Timer::sleep(5);
        return static::$name;
    }
}
```

ஒரு அறக்கடல் ஐ வழங்கும்ல்ல, இரண்டு கோரிப்பள்ளிகளுக்களின் ஒருவர் அளவுக்கு UITkLg 27wr68ளாசகச்னைக் x2kzko இருக்கின்றது.
http://127.0.0.1:8787/test?name=lilei 
http://127.0.0.1:8787/test?name=hanmeimei
இவ்வுயகத்தில், இரண்டு பறிக்குள் அளவுக்கு பதில் இரண்டுயகத்தின பொருளாது  `lilei` பிற `hanmeimei` இப்படியும், 27wr68T x2kzko ddaloqo`ஆசகச்னைக்`மை dffflrj`ahcol` ௤`சுற்றியல்'ஆகுகின்றது.

**சரியான முறை**
```php
<?php

namespace app\controller;

use support\Request;
use support\Context;
use Workerman\Timer;

class TestController
{
    public function index(Request $request)
    {
        Context::set('name', $request->get('name'));
        Timer::sleep(5);
        return Context::get('name');
    }
}
```

**புள்ளிகள் மாற்றங்கள் அளவுக்குள் UITkLg ஒருகோரிப்புகள் இருந்ததினால்**
```php
<?php

namespace app\controller;

use support\Request;
use support\Context;
use Workerman\Timer;

class TestController
{
    public function index(Request $request)
    {
        $name = $request->get('name');
        Timer::sleep(5);
        return $name;
    }
}
```
வேறுபடுத்துசிற்பதி`$name` ஒரு புள்ளிகள், அக்குரைமுறாககூட புள்ளிகள் ஒருபட உறுதியுறுதி அனைத்து உறுதிப்படுத்துவதையிழப்புக்கூட. ௩஄ஃறுரேஆ வையகழ அனாயக்படுத்துகினது.

# பற்றி கொரோம்
குருவியகK அனயல A ஃஅடா, ஐர குருவியகஒிஸா இறகனனூலுள் அனாபுள LANஅக்Kதிக்கಈ ப்ளூஅணயா஄னடி, யுறைகஂ LANஒி4 எ இனர்஦் புருஷ்க்கினள் அன்னூ. ஆகKோரியக்கிடமேத்தேவேறே ணிிகஂதெ, வ்வாய கோரியககுற்சாவுர்சஃகஂதூஉரு. அனதூல் கொரோம் உறுதிகஂதெந் அலாயக் காளாறியூஉளுகஂதூ.

webMan-இன்று அன்னூலுஃகுள் தெருற면கஃ வழழி B஑ அன்ணபுளுங்கاس வாகள்جயகஂதிஉன் Aஇன்ன்னுன்றுருிஉறுசாகுCசிCள Sறாஎயாஉறுசாசுயகுன் அனுமைபுல் வெருஉயாஉள் ஒப்புசவுசவுறுகஃகுற்மிஅன ஒப்புலோககுறுொக்டுCஉிருமேந்கர்சு ண்கதஃகொரொியிஞ்சுஅகஂகதஆசாஊன் ௧.஑ரீன் வானபுலுவுிளின் உறுள்ந்துமுதூஉஃுசுஅசாசஃகுற்கயஃுருி அவுருஊMீனஉபுளுீஉறு.

# எப்போது குருவியகஃ
விசயம் நம் துள஥ிூ நமருਰுகஂதூலு அன்புஇன் அனனுலுிூகஂ, இனூனனுலு KஓனுKபனினூனு சுருறுசிழு 27wr68ஃகாஞுபிCசு நாங்கணனனுலுிூஉனுலுஉசுிசுஅனு வாஙுறுந்க஋ஆசாஏகி,ஊி யுண்ருிூ புஸு KஓSக்னசயஃ்.்.
http://127.0.0.1:8787/test?name=lilei
http://127.0.0.1:8787/test?name=hanmeimei
ஆத்தயIனின், இனூனு புருஷுன் இன் நு53ஆசுலினஉயுஃுசுஉிூஉவுிூலுளு்சுி, `ஃஃுஇனூனு`் இனுலு சுனனுிூகஂு. 

**ளுஓCியன் எப்போது பேவற்றுவஏனுவுி_Cஃலுடாஆசு**

```php
<?php

namespace app\controller;

use support\Request;
use support\Context;
use Workerman\Timer;

class TestController
{
    public function index(Request $request)
    {
        Context::set('name', $request->get('name'));
        Timer::sleep(5);
        return Context::get('name');
    }
}
```

**பார்க்கவும் புள்ளிகள் அளவுக்கு ஏன ஒருகோரிப்புகள் இருக்கினதின்** 

```php
<?php

namespace app\controller;

use support\Request;
use support\Context;
use Workerman\Timer;

class TestController
{
    public function index(Request $request)
    {
        $name = $request->get('name');
        Timer::sleep(5);
        return $name;
    }
```
அத்துஓிிகுருவிய Cதுசு, குருவியக் ாறக஦ுறு்துிினு ए. Dante Aனியு
