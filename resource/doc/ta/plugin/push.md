## வெப்மேன்/புஷ்

`வெப்மேன்/புஷ்` இலவச புஷ் சேவை சேவையக உருவாக்காளர் உள்ளது, வாள்பொதிவு முனை தரம் சேர்க்கையிட்டு Pusher உடன் உள்கொள்ளுகின்றது, பல்வேறு வாடிகளைக் கொண்டிருக்கின்றன போன்று JS, ஆண்ட்ராய்டு (ஜாவா), IOS (ஸ்விப்ட்), IOS (ஆப்ஜி-சி), உனிஅப், .NET, யூனிட்டி, ஃப்ளட்டர், ஆங்குலர் JS போன்ற வாடி கிரகங்களுடன் உள்ளது. பின்னர் புஷ் SDK மூலம் PHP, நோட், ரூபி, ஆஸ்ப், ஜாவா, பைதான், கோ, ஸ்விப்ட் போன்ற கடுமையான மென்பொருள்களை உடைபொள். வாடிகளுற்றி யென்று முனைவர் இனப்பொலிப்புகள் மற்றும் அடிப்படை உள்சரம் பொருந்துகின்றன. செயல்படுதல்க்கு அருகில் பொருத்தம் அல்லது உரை ஒருபோன்ற நேரம் இல. செய்திகள் மற்றும் அனைத்து உடிகள் உடைய ஒரு அநுத்தி தசமிக்கை ஒன்றை பொருத்தம் செய்திகளுக்கு அநுபவிக்கும்.

உருவாக்கினால் ஒன்று வலைத்தளம் JS வாடி முனை மன்னர் Push.js மற்றும் uniapp-வாடி `uniapp-push.js` போன்று முதலான பொருள் உடைப்பை உடைபண்டு, வாடாகப்பட்ட மொழியாளர்கள்  https://pusher.com/docs/channels/channels_libraries/libraries/ இருந்து பதிவிறக்க, 

> பிளக்கின் webman-framework>=1.2.0 மூலத்தை தேவைப்படும்

## நிறுவல்

```sh
composer require webman/push
```
## கிளையன்ட் (ஜாவாஸ்கிரிப்ட்)

**ஜாவாஸ்கிரிப்ட் கிளையன்ட் உள்ளீடு**
```js
<script src="/plugin/webman/push/push.js"> </script>
```

**வர்த்தகால பயன்பாடு (பொது கண்ணோடு)**
```js
// இணையத்தை அமைத்தல்
var connection = new Push({
    url: 'ws://127.0.0.1:3131', // வாப்சாக்கெட் முகவரி
    app_key: '<app_key, config/plugin/webman/push/app.php இலிருந்து பெறுவது>',
    auth: '/plugin/webman/push/auth' // செயலாளரி அங்கீகாரம் (தனியும் கண்ணையும் மடிக்கும்)
});
// பயனர் uid பெறுமுயலாடு
var uid = 1;
// உலாவல் உலாவி-1 கண்ணையும் நெகிழ்வுகளை கேட்கின்றது, அர்த்தப்பாக, பயனர் uid இருவர் செய்திகள்
var user_channel = connection.subscribe('user-' + uid);

// உலாவி-1 கண்ணுக்கு message நிகழ்வுகள் இருக்கின்றபோது
user_channel.on('message', function(data) {
    // தரவில் செய்தி உள்ளிட்டது
    console.log(data);
});
// உலாவி-1 கண்ணுக்கு friendApply நிகழ்வுகள் இருக்கின்றபோது
user_channel.on('friendApply', function (data) {
    // தரவில் நண்பர் விண்ணவோர் பிரிக்கப்பட்ட தகவல்கள்
    console.log(data);
});

// குழு id 2 செய்திவழமை
var group_id = 2;
// குழு-2 கண்ணுக்கு செய்திகளை நெகிழ்வுசெய், அதே நிகழ்வு-2 குழுவின் செய்திகளைக் கேட்கின்றது
var group_channel = connection.subscribe('group-' + group_id);
// குழு-2 க்கு message நிகழ்வுகள் இருக்கின்றபோது
group_channel.on('message', function(data) {
    // தரவில் செய்தி உள்ளிட்டது
    console.log(data);
});
```

> **குறிப்பு**
> உதாரணங்களில் subscribe உபயோகிப்பது காணலாம், `message` `friendApply` நகரும் விற்பனையில் நிகழ்வுகள். விற்பனைகளும் நிகழ்வுகளும் எந்தவொரு இயக்கமுமாகவும் கடினமாக கடினம்.  

## சேவையகம் பற்றிய வழி (PHP)
```php
வாட்பாக்ஸ் Webman\Push\Api;
$api = புஷ் (
    // வெவ்மான் கீழ் config மூலம் பெற முடியும், அல்லாத அவரண உள்ளாட்டின் படி config
    'http://127.0.0.1:3232',
    config('plugin.webman.push.app.app_key'),
    config('plugin.webman.push.app.app_secret')
);
// பயனர் user-1 ஐ அனைத்து கிளையன்ட் உறுதிப்படுத்தும் செய்தி நிகழ்வுகளை அனுப்புக்கூட்டும்
$api->trigger('user-1', 'message', [
    'from_uid' => 2,
    'content'  => 'வணக்கம், இது செய்தி உள்ளிட்டது'
]);
```
## தனிப்பட்ட சேனல்
மேலும் உதாரணங்களில், ஏதேனும் பயனர் Push.js வழியாக தகவலைக் குறிப்பிடலாம், தனிப்பட்டதாயினும் சர்வதேச தகவல் அல்லது அகழ்வேலையை மிகவும் பாதுகாப்பது அரசியல் மற்றும் பகுப்பாய்வு மாநிலங்களின் நடவடிக்கையின் அமல்பான்னு உள்ளது.

'webman / push' மூலம் தனிப்பட்டதைப் பின்பற்றி, 'private-' என்ற செருகு செயல்பாட்டின் மூலம் தனியாக்கலாம். உதாரணமாக:
```js
var connection = new Push({
    url: 'ws://127.0.0.1:3131', // வலைத்தளம் URL
    app_key: '<app_key>',
    auth: '/plugin/webman/push/auth' // தொடர்புகளின் மேல் அனுமதி (தனிப்பட்ட சேனல்களுக்கு மட்டும்)
});

// பயனர் uid-1 ஐக் கருக்குக்காக உலாவிகளை பரவும் உலையிடும்
var uid = 1;
// உலாவியின் private-user-1 சொந்த சேனலை உலுவாக்குகின்ற உலையை உலாவியை இணைப்பது
var user_channel = connection.subscribe('private-user-' + uid);
```

உலாவியின் தனிப்பட்டச் சேனலை உலாவும்போது(`private-` தொடக்கம் செய்யும் சேனல்), உலவியைச் செயலாக்கும் ஒரு ajax அங்கீகாரத்தை (ajax முகவரி புதிய Push எனும் அமைப்பிலுள்ள auth அமைப்பால் கட்டப்பட்டால்) உதவியுள்ளது, இங்கு நீங்கள் இப்பொழுது இருந்து தீர்மானிக்க முடியும், தற்காலிகமாக ஏதேனும் உலவுபாட்டையும் அட்மின் அமைப்புகளையும் இதில் மாதிரியாகப் பார்க்கலாம்.

> அங்காடிகளுக்கு 'config / plugin / webman / push / route.php' நடவடிக்கை பொத்தானைப் பார்க்கவும்.

## வாடிக்கையாளர் புதியதைத் தயாரிக்கும்
மேலே உள்ள உதாரணங்கள் ஒவ்வொன்றினும் வாடிக்கையாளருக்கு ஒரு சேனலை உருவாக்குவதையும், சேவையகம் API இயக்குகின்றன. 'webman / push' முடிவுகள் முகாமையாக தனிப்பட்டதாகும்.

> **குறிப்பிட்டது**
> வாடிக்கையாளர்கள் அடைவுகளுக்கு மட்டும் ('private-' தொடங்கும் சேனல்களுக்கு) மட்டும் உள்ள குறிப்பைக் கொண்டு உருவாக்கும். மேலும், கணினி முகவரியின் மூலம் மட்டும் உருவாக்கப்படும் நிகழ்த்தலுக்கும் `client-` தொடங்கும் நிகழ்வுகளுடன் குறிப்புகளை ஏற்றுக்கொள்ளுகின்றது.

நிகழ்விற்கு வாடிக்கையாளர் ஏற்படுத்தும் ஒரு உதாவணத்தை:
```js
var user_channel = connection.subscribe('private-user-1');
user_channel.on('client-message', function (data) {
    // 
});
user_channel.trigger('client-message', {form_uid:2, content:"hello"});
```

> **குறிப்பு**
> மேலே உள்ள குறிப்புகள் 'private-user-1' யை உருவாக்கிய அனைத்து (தனிப்பட்ட அல்லது) வாடிக்கையாளர்களுக்கும் 'client-message' நிகழ்வுகளைப் பதிவு செய்யும் (நீங்கள் பதிவு செய்த தகவலுக்கு வழிமுறையைப் பெறவில்லை).
## வேப்குக்ஸ் (Webhooks)

வேப்குக்ஸ் சேனலின் சில நிகழ்வுகளைப் பெறுவதற்குப் பயன்படுகின்றன. 

**தற்போது முதன்முதலில் 2 நிகழ்ச்சிகள் உள்ளன:**

- 1.சேனல்_சேர்க்கப்பட்டது
  ஒரு செயலாளர் இணையான நிலையில் உள்ள ஒரு சேனலைப் பெற்றது, அல்லது உயிரினத்தை சொல்லுங்கள்.

- 2.சேனல்_அகற்றப்பட்டது
  ஒரு சேனலில் உள்ள அனைத்து முக்கிய வாடிக்கையாளர்களுக்கும் இடையே பெறாது, அல்லது இன்னொரு சேனலைப் பயணித்ததிலிருந்து அகற்றப்பட்டது.

> **குறிப்பு**
> இந்த நிகழ்ச்சிகள் பயனர் ஆன்லைன் நிலையைப் பராமரி கொண்டு நடத்துவதில் உதவுகின்றன.

> **குறிப்பிடுக்கப்படுகின்றது**
> வெப்குக்ஸ் முகவரிகள் `config/plugin/webman/push/app.php` இல் கட்டமைக்கப்படுகின்றது.
> வெப்குக்ஸ் நிகழ்ச்சியைப் பெற்றலை செயல்பாட்டை கையாளுங்கள் config/plugin/webman/push/route.php இல் குறிப்பிடப்பட்ட லோஜிக் பார்க்கலாம்
> பயனர் சுயாக்கத்தை புதுப்பிக்குவதற்காக தாக்குதலை வைத்தலும் வேக்மேன் / புஷ் முளிவிட்டு முடிந்ததால், ஆன்லைன் / அகற்றப்பட்ட நிகழ்ச்சிகள் 1-3 விநியாசத்தில் உள்ளனவும் வெப்மான்படுவது.

## WSS புதியபடிக்கை (SSL)
ஹிட்டப் காணால் பயன்படுத்த முடியாதுனர் வேண்டும் ஏனெனில் WSS இணைப்பைப் பயன்படுத்தவேண்டும். இது போன்ற நிலையானால், என்ஜின்எக்ஸ் WSS ஐ முதலிடம் பிணைய வழி WSS கட்டமையாகும், கட்டமை போல் இவ்வாறு இருக்கும்:
```சேர்வர் {
   #.... இவ்வளவு வார்த்தைகளை விட்டுவிட்டோம்....
 
   இடையில் / சேமிக்கப்பட்ட <பயன்பாட்டு_முக்கியம்>
   {
       ப்ராக்ஸி_போக்கு http://127.0.0.1:3131;
       ப்ராக்ஸி_தன்னுடைப்பு_பதிப்பு 1.1;
       புரோக்ஸி_தலைப்பு அப்கிரேட் $ http_upgrade;
       புரோக்ஸி தலைப்பு உள்ளேது "அப்கிரேட்";
       புரோக்ஸி தலைப்பு எக்ஸ்-ரியேல்-ஐபி $ தொலைபேசி_முதலான் கூடு
   }
}```
**குறிப்பவர்கள் பெற்றியமாகும்**
 
nginx ஐ மீளமைக்க முடியவில்லை, கீழே உள்ள முறையைப் பயன்படுத்தவும்.
``` javascript
var connection = new Push({
    url: 'wss://example.com',
    app_key: '<பயன்பாட்டு_முகவரி, config/plugin/webman/push/app.php இலிருந்துப் பெறுங்கள்>',
    auth: '/plugin/webman/push/auth' // சுயான்வருத்தம் பதிலாக / பின்னர் பயன்படுகின்றது (தனிப்படச்செய்தலானது)
});
````
> **குறிப்பு**
> 1. கோரிக்கை முகவரியின் ஆரம்பம் WSS
> 2. போர்டை எழுதாது
> 3. **SSL சான்றாண்டில் ஒப்படைந்துவிடல்** வேண்டும்
## push-vue.js பயன்பாட்டை பயன்படுத்துவது

1. push-vue.js கோப்பை உங்கள் திட்ட அடைவுக்கு நகலெடுக்கவும், உதாரணமாக: src/utils/push-vue.js

2. Vue பக்கத்தின் உள்ளே இறக்குமதி செய்யவும்
```js

<script lang="ts" setup>
import {  onMounted } from 'vue'
import { Push } from '../utils/push-vue'

onMounted(() => {
  console.log('கணக்கு சேர்க்கப்பட்டது')

  // webman-push ஐ நிருப்புக
  
  // இணைக்கும்
  var connection = new Push({
    url: 'ws://127.0.0.1:3131', // வலைப்பின்டு முகவரி
    app_key: '<app_key, config/plugin/webman/push/app.php இலிருந்து பெறுவதற்கு>',
    auth: '/plugin/webman/push/auth' // பதிவு செய்ய அனுமதி பெறுதல் (தனிப்பட்ட சேனல்களுக்கு மட்டும்)
  });

  // பயனர் uid என்றால் 1 என்று எண் போன்ற நிறுவல்களுக்கான உள்ளீடுகளை உள்ளிடும்
  var uid = 1;
  // உலாவி user-1 மிதக்கும் உள்ளீடுகளைக் கேட்டுக்கொண்டிருக்கின்றது, அதுவே பயனர் uid ஆகும் 1 பயனரின் செய்திகள்
  var user_channel = connection.subscribe('user-' + uid);

  // user-1 மூலம் எந்த செய்தி நிகழ்வுகள் இருந்தாலும்
  user_channel.on('message', function (data) {
    // தரவுகள் செய்தித் தன்மையுடன் உள்ளது
    console.log(data);
  });
  // user-1 மூலம் எந்த செய்தி நிகழ்வுகள் உள்ளனவெனில்
  user_channel.on('friendApply', function (data) {
    // தரவுகள் நடத்தமுடியும் வகையில் உள்ளிடப்படுகின்றது
    console.log(data);
  });

  // தற்போது குழு ஐடி 2 ஆகும் என்றால்
  var group_id = 2;
  // உலாவி group-2 மிதக்கும் உள்ளீடுகளைக் கேட்டுக்கொண்டிருக்கின்றது, அதுவே குழு 2 பயனர் செய்திகள்
  var group_channel = connection.subscribe('group-' + group_id);
  // குழு 2 மூலம் எந்த செய்தி நிகழ்வுகள் உள்ளனவெனில்
  group_channel.on('message', function (data) {
    // தரவுகள் செய்தித் தன்மையுடன் உள்ளது
    console.log(data);
  });


})

</script>
```

## மற்ற வாடிக்கையாளர் முகவரிகள்
`webman/push` pusher-ஐ ஒப்புமையாக எடுப்பது, மற்ற மொழிகளில் (Java Swift .NET Objective-C Unity Flutter Android IOS AngularJS ஆகியவை) வாடிக்கையாளர் முகவரிகள் பதிவிறக்க இடம்:
https://pusher.com/docs/channels/channels_libraries/libraries/
