# நிகழ்வு நிபந்தனைகள் செயலாக்கம்

வேப்மேன் / நிகழ்வு வழிமுறை மீளப் பெறப்படுகிறது, அது கூடுதலாக குறிப்பிட்டபின் குறிப்பிடப்பட்ட பகுதிகளை செயலாக்க, மொழிகளுக்கு விலக்கு காணப்படுகின்றது. ஒரு புதிய பயனர் பதிவு செய்யப்பட்டது என்பதை, `user.register` போன்ற ஒரு தொடர்பு நிகழ்வை வெளியிட மட்டுமே, அனைத்து பகுதிகளுக்கும் அதே நிகழ்வை வழங்கலாம்.

## நிறுவுவதற்கு
`composer require webman/event`

## நிகழ்த்துவது
நிகழ்த்துவை ஒருங்கிணைக்க தொடர்புநிகழ்வு `config/event.php` எனும் கோப்பில் கட்டமைக்கவுடன் மேல் பின்வரும் ஆன்மிகப் படிப்பைப் பயன்படுத்துகின்றேன்.
```php
<?php
return [
    'user.register' => [
        [app\event\User::class, 'register'],
        // ...பிற நிகழ்வு செயலாக்கங்கள்...
    ],
    'user.logout' => [
        [app\event\User::class, 'logout'],
        // ...பிற நிகழ்வு செயலாக்கங்கள்...
    ]
];
```
**விளக்கம்:**
- `user.register`, `user.logout` ஆகியவை நிகழ்வினை பெயர்ப்படுத்துகின்றன, இது தீமிக்குள் ஆலோசகர்களுக்கும் புதிய வலைப்பாடுகளுக்கும் பொருந்தத்தக்க குறிப்பானது
- ஒரு நிகழ்வின் பொதுவான செயலாக்கம் குறிப்பாக அதே வரிசையில் அமைக்கக்கூடும்

## நிகழ்வு செயலாக்க செயல்பாடு
நிகழ்வு செயலாக்கம் எந்தவொரு முறையிலும் ஒரு வகையான கருவி செயலாக்கம், செயல்பாட்டு, மூடு அமையப்படலாம்.
உதாரணமாக `app/event/User.php` என்ற நிகழ்வு செயல்பாட்டை உருவாக்குக. (அடைவு இல்லையெனில் காணொடுக்குக)
```php
<?php
namespace app\event;
class User
{
    function register($user)
    {
        var_export($user);
    }
 
    function logout($user)
    {
        var_export($user);
    }
}
```

## நிகழ்வை அதன் முடிவுக்கு அறிவிக்குக
`Event::emit($event_name, $data);` ஒரு நிகழ்வை முடிவுக்கு அணுகலாம், உதாரணமாக
```php
<?php
namespace app\controller;
use support\Request;
use Webman\Event\Event;
class User
{
    public function register(Request $request)
    {
        $user = [
            'name' => 'webman',
            'age' => 2
        ];
        Event::emit('user.register', $user);
    }
}
```

> **அறிவிப்பு**
> `Event::emit($event_name, $data);` பதிலாக தரப்படும் `$data` அனைத்து தரவுகளாகலும் (Array, Class Instance, String போன்றவற்றை) முடிவுக்காகப் பயன்படுத்தலாம்.
## முதன்மை மூலமாக நிகழும் ஒப்பந்தக் கொள்கைகள்
ஒப்பந்தக் கொள்கைகள் கூட்டிணிக்கை பதிவுகளை உங்களுக்கு அனைத்து நிகழ்வுகளையும் ஒரு கொள்கையிடலாம், உதாரணமாக `config / event.php` இல் உள்ள கட்டமைப்பில்
```php
<?php
return [
    'user.*' => [
        [app\event\User::class, 'deal']
    ],
];
```
நாங்கள் நிகழ்ச்சி செயலாக்க கணிப்பைத் தனிப்பட்ட நிபுணர் தெரிவுசெய்ய முடியும் இந்தவெடியில் மூன்றாவது மாறி, `$event_data` எனும் தனிப்பட்ட நிகழ்ச்சி பெயரை பெற முடியும்
```php
<?php
namespace app\event;
class User
{
    function deal($user, $event_name)
    {
        echo $event_name; // சேகரிக்கப்பட்ட நிகழ்ச்சி பெயர், பயனர்.பதிவு பயனர்.விடுவி போன்றவை
        var_export($user);
    }
}
```

## நிகழ்ச்சியை நிறுத்த நிகழ்ச்சி இயல்பு
நாங்கள் நிகழ்ச்சி மூலங்களில் `false` மூலம் திருப்புக்கள் மீட்டொருக்கவும் அது மூலம் நிகழ்ச்சியை நிறுத்தும்

## சுருக்கமான அமல்களின் ஒருங்கிணைப்பு
நிகழ்ச்சி செயலாக்க செயல்வாக்கிறது என்பது வழக்கமாக இல்லை, நீங்கள் ஆரம்பிக்கும் வேலைகளை மூட்சுயல் மூலம் செயல்படுத்த வேண்டும், உதாவதாகவோ [webman / redis-queue] (https://www.workerman.net/plugin/12) போன்ற செயல்முறை முறை பயன்படுத்தியிருப்பது
```php
<?php
return [
    'user.login' => [
        function($user){
            var_dump($user);
        }
    ]
];
```

## நிகழ்ச்சி மற்றும் பாவிப்பகுப்பாளர்களைப் பார்க்க
`பிளப் வெப்மோன் நிகழ்வு: list` அர்ப்பணிக்கும் கட்டமைப்புகள் மற்றும் அனைத்து நிகழ்வுகளையும் திரையில் உள்ளிட்டதைப் பார்க்க

## குறிப்புகள்
நிகழ்ச்சி செயல்படுத்தப்பட்டால் அடிப்படைகால மேல் வாய்ந்த அல்லது செய்தி வழிகளை வழங்கப்படாது, அது எஸிங்கிள்கானது, செயலாக்கம் வலியுறுத்துதல் பயனர்களுக்கு அனுபவிக்கப்படாது.
