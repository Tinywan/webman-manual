# crontab அடிப்படை பகுதி

## workerman/crontab

### விளக்கம்

`workerman/crontab` லினக்ஸ் போன்ற க்ராண்டாப் (crontab) போன்ற ஒரு முதலியது; ஆனால் `workerman/crontab` ஒரு நொடிக் கால மாற்று விதியை ஆதரிக்கிறது.

நேர விளக்கம்:

``` 
0   1   2   3   4   5
|   |   |   |   |   |
|   |   |   |   |   +------ வாரதினம் (0 - 6) (ஞாயிறு=0)
|   |   |   |   +------ மாதம் (1 - 12)
|   |   |   +-------- நாளம் (1 - 31)
|   |   +---------- மணி (0 - 23)
|   +------------ நிமிரம் (0 - 59)
+-------------- வின் (0-59) [விட்டதாக்கலுக்கான அளவு, முதலில் 0 இல்லை, அப்படி உருவாக்கப்படக்கூடியது; அதிகத்தின் நேர குறிப்பேண்டா] 
```

### திட்டம் முகவரி

https://github.com/walkor/crontab
  
### நிறுவல்

```php
composer require workerman/crontab
```
  
### பயன்பாடு

**படி ஒன்று: செயலி கோப்பு `process/Task.php` ஐ உருவாக்கு**

```php
<?php
namespace process;

use Workerman\Crontab\Crontab;

class Task
{
    public function onWorkerStart()
    {
    
        // ஒவ்வொரு விநாடி முறையாக செயலிப்பாக்க
        new Crontab('*/1 * * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // ஒவ்வொரு 5 விநடிக்கு முறையாக செயலிப்பாக்க
        new Crontab('*/5 * * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // ஒவ்வொரு நிமிடத்தில் முறையாக செயலிப்பாக்க
        new Crontab('0 */1 * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // ஒவ்வொரு 5 நிமிடத்தில் முறையாக செயலிப்பாக்க
        new Crontab('0 */5 * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
        // ஒவ்வொரு நிமிடத்தின் முதல் வினாவில் செயலிப்பாக்க
        new Crontab('1 * * * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
      
        // ஒவ்வொரு நாளின் 7 மணி 50 வினாவில் செயலிப்பாக்க, கவலை: இங்கு வின் மாற்றம் தெரிவு செய்யப்பட்டுள்ளது
        new Crontab('50 7 * * *', function(){
            echo date('Y-m-d H:i:s')."\n";
        });
        
    }
}
```
  
**படி இரண்டு: செயலி கோப்பு கூட்டுத்தக்கம் கீழே வெளியிடவும் உருவாக்க**

```php
return [
    ....மற்ற கட்டமை, இங்கே தளரவில்லை....
  
    'task'  => [
        'handler'  => process\Task::class
    ],
];
```
  
**படி மூன்று: வெளியிடக்கூடியிலானின் வெப்மேன் மீனிட் சேமிக்கவும்**

> கவனம்: நிர்ணயிக்கப்பட்ட பணி உட்கட்பிடம் உடன் பெற இல்லை; அனைத்து நிர்ணயிக்கப்பட்ட பணிகள் அடுக்கு ஒரு நிமிட்டில் ஆரம்பத்தில் உள்ளன

### விளக்கம்
crontab ஒருங்கிணைதாகாது; உதாரணமாக, ஒரு பணி கூப்பில் A மற்றும் B இரண்டு நொடி முறையாக செயல்படுதல் உள்ளன, ஆனால் A பணி 10 வினாடியாகையும் நேற்யது செயல்படுத்தின பின்னர் B செயலாக காதிரி காதிரி நேரம் உண்டாகும். 
வரைக்கால தருமதம் சுவாச்பதிலைப் போன்ற இந்த வேலை வேலைக்காண்டுகள் படுத்துக் கொள்வது முடியாது. காரணம், உருண்டு `config/process.php` ஒருவரையறைப்  வெளிப்படுத்தி

```php
return [
    ....மற்ற கட்டமை, இங்கே தளரவில்லை....
  
    'task1'  => [
        'handler'  => process\Task1::class
    ],
    'task2'  => [
        'handler'  => process\Task2::class
    ],
];
```

விருப்பத்தேர்வு நேரம் கூட்டுத்தக்கத்துக்கு `process/Task1.php` இல், வேறு தேர்வு நேரம்  `process/Task2.php` இல் உள்ள முன்கோள் பணிகளை எடுத்துவிடவேண்டும்.

### மேலும்
மேலும் `config/process.php` இலனும் அமைப்பு முகவரி, இந்த வழக்கத்தை குறிக்கும் [தனித்தனித்தமான பின்வரும்](../process.md) ஐ காண்க
