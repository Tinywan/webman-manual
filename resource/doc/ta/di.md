# பராமரிய சுயாதீனம் அவை
வெப்மேன் இல் பராமரிய சுயாதீனம் ஒரு விருப்பம் அல்ல. இதன் இயல்புப் பொருள் மூலங்கள் முன்திறன் முடி. உங்கள் பராமரிய சுயாதீனத்தை தேர்வு செய்ய வேண்டியதன் அடிப்படையாக [php-di](https://php-di.org/doc/getting-started.html) ஐ பரிசீலிக்கின்றேன். கீழே வெப்மேன் மற்றும் `php-di` ஐ ஒப்புதல் சோதனைகளை கண்டுபிடிக்கும் ஒருவீச்சு உள்ளது.

## நிறுவுக
```
composer require psr/container ^1.1.1 php-di/php-di ^6 doctrine/annotations ^1.14
```

கடைசியாக, கட்டமை `config/container.php` ஐ மாற்றவும், அதன் கடைசி உரையாக பரிவர்த்தனைின் உள்ளடக்கமாக இருக்கும்:
```php
$builder = new \DI\ContainerBuilder();
$builder->addDefinitions(config('dependence', []));
$builder->useAutowiring(true);
$builder->useAnnotations(true);
return $builder->build();
```

> `config/container.php` இல் மூலம் பிஎஸ்ஆர்-11 கோவையான ஒற்று நிலையான ஒரு கூட்டுப்பெட்டி நிகழ்வாக வரும். நீங்கள் `php-di` ஐ பயன்படுத்த வில்லையோ, அப்போ உங்களுக்கு இதைப்பற்றி விவரங்கள் உருவாக்கி பிஎஸ்ஆர்-11 நிலையான ஒற்று நிலைப் பெட்டி நிகழ்ச்சியம் உருவாக்க முயற்சி செய்யலாம்.

## உருவாக்கும் அமைப்பு செல்
`app/service/Mailer.php`(இரத்தில் போடும் அடைவு இல்லையேல் உங்களாலே உருவாக்கவும்) புதியவையை இங்கே சேர்க்கவும்:
```php
<?php
namespace app\service;

class Mailer
{
    public function mail($email, $content)
    {
        // மின்னஞ்சல் அனுப்பும் குறிப்புகள் புரிந்து கொள்ளப்பட்டுவிடப்படும்
    }
}
```

`app/controller/UserController.php` உள்ள உள்ளீடுகள்:
```php
<?php
namespace app\controller;

use support\Request;
use app\service\Mailer;

class UserController
{
    private $mailer;

    public function __construct(Mailer $mailer)
    {
        $this->mailer = $mailer;
    }

    public function register(Request $request)
    {
        $this->mailer->mail('hello@webman.com', 'வணக்கம் மற்றும் வரவு!');
        return response('நல்லது');
    }
}
```
பொதுவாக, `app\controller\UserController` ஐ உருவாக்க போது கீல் உள்ளிடம் தேவைப்படும் குறிப்புகள்:
```php
$mailer = new Mailer;
$user = new UserController($mailer);
```
`php-di` ஐ பயன்படுதல் பின்வரும், படிவமாக  `Mailer` உருவாக்கினால், சார்பில்லாத பண்புகளை தேவை உள்ளது என்பதில் பயனர் வைக்கவிரும்பாமலே வெப்மேன் உங்கள் உதவி பெறும். உணர்வினை உடைக்கின்றது. உதவி பெறுவதற்காக, முன்னாமல் படிவம் வேலை எப்படிச் செய்வதற்கு `php-di` ஐ பயன்படுத்த வேண்டும். 
எனவே உணர்வினை உடைக்கின்றது.  தேவையானவர் எந்த துவக்க உபாதீகங்களும் தேவை இல்லை.

> **குறிக்கோவல்**
> விருப்பம் அல்லவே, உங்கள் பூரண வழக்கம் முடிக்கும் முன் பொதுவாக, செய்யும் தேவை உள்ளது.  உங்கள் பூரண வழக்கத்தில் செய்ய வேண்டிய நடவடிகள் யாவாலும் இல்லை என்றால், இயக்கினால், உங்கள் பணிகளை நிறுவ வேண்டிய நடவடிகளை உணருங்கள்.

```php
பயனர் = வெப்மான்::பெறு(பயனர்வீட்டிகள்::தரவுகள்::வெற்றிபெற்றவர்கள்);
// லாக்சன் முடையவர்களை நடேசிக்க தேவைப்பட்டுவிட்டால்
்லாக்சன் = லாக்சன்::பெறு(அஸ்ஸிஸ்ட்மென்ட்::நடவடிகள்::நடேசிக்கு);
```

## குழு விளக்கம் அவதிக்கும்
கட்டமை சுயாதீனக் கொள்கை போல, நாம் மெட்டாள் லரன் செயலி WEBMAN.in பெயராளர் நேர்முக பயப்சீஇன் முனையல் குறியல்கள்:
```php
<?php
namespace வரி\பயன்தாரரை;

use மதிமொனம்\கோரிய;
use வரி\சேவோ\மெட்டாள்;

class பயன்தாரர்
{
    private $mailer;

    பொருத்துக்கு வேப்மான்(வரி\சேவோ\மெட்டாள் $mailer)
    {
        $this->mailer = $mailer;
    }

    பொருத்துக்கு பதிவு(கோரிய $விண்டுவிய்)
    {
        $this->mailer->mail('hello@webman.com', 'வணக்கம்மற்றும் வரவு!');
        அடிப்படைப்பதில் 'நல்லது' ஐ பதிகள்;
    }
}
```
அண்மைகளால், `வரி\கட்டமை\உபயோகி` பின்வரும் உள்ளாயை இயக்க வேண்டுமானது:
```php
$அஞைாவான் = அஞைாவான்::பெறு(வரி\சேவோ\மெட்டாள்::கட்டமைகள்);
// பொருத்துக்கு வணி இதிலிட குறி வேப்மான்
$வணி = வணி::பெறு(ஷ்ட்ரொஇன்க்::மருந்துகள்::பொருத்துக்கு);
```
`பராமரிய சுயாதீனம்` என்னும் 1.4.6 பதிப்பு முன்னிருந்து, `app\service\Mailer **Interface**`'க்கு`சேயர் **parameters** இந்த தேவையார் **this** மாணவர்:
```php
<?php
namespace வரி\கோரிய\;

சேயர் பயனதீபா(கோரிய $request, வரி\சேவோ\மெட்டாள் $உணர்வீக, வரி\சேவோ\மெட்டாள் $mailer)
{
    $mailer->mail('hello@webman.com', 'வணக்கம் மற்றும் வரவு!');
    அடிப்படைப்பதில் 'நல்லது' ஐ பதிகள்;
}
```
## தனித்தனியாக உருவாக்குவதே
சமயமாக, உருவாக்குவதன் திரைப்படத்தில் உள்ளதை அடையாளம் ஹோஸ்ட், போர்ட் போதுவம் முதலாமனிக்கு தங்க இடங்களில் உள்ளது:
```php
<?php
namespace வரி\சேவோ;

சேவோ பயனதீபா
இத்தீபா்க்கு($smtp_host, $smtp_port)
{
    $this->smtpHost = $smtp_host;
    $this->smtpPort = $smtp_port;
}

பொருத்துக்கு மெட்டா(கிரி, $content)
{
    // மின்னஞ்சல் அனுப்பும் குறிப்புகள் புரிந்து கொள்ளப்ப
