# ব্যবসার শুরুপর্যন্তুলনা

সময়ের উপর আমরা প্রক্রিয়া শুরুর পরে কিছু ব্যবসায়িক শুরুপর্যন্ত করতে পারি, এই শুরুপর্যন্ত প্রক্রিয়া জীবনকালে মাত্র একবার সম্পাদন করে, উদাহরণস্বরূপ, প্রক্রিয়া চালানোর পরে একটি টাইমার সেট করা, বা ডাটাবেস সংযোগ প্রশিক্ষিত করা। নিচে আমরা এটি বিষয়ে আলাপ করব।

## প্রিন্সিপল
**[প্রসেস ফ্লো](process.md)** এর সঙ্গে মূল্যায়ন করুন, প্রক্রিয়া শুরুর পরে `config/bootstrap.php` (সহ `config/plugin/*/*/bootstrap.php`) থেকে সেট ক্লাসগুলি লোড করা হবে এবং ক্লাসের `start` মেথডটি অনুষ্ঠান করা হবে। আমরা `start` মেথডে ব্যবসায়িক কোড যোগ করতে পারি, অর্থাৎ প্রক্রিয়া শুরুর পরে ব্যবসায়িক শুরুপর্যন্ত পদক্ষেপ শেষ করা যেতে পারে।

## প্রক্রিয়া
ধরা যাক আমরা একটি টাইমার তৈরি করতে চাই, যা বর্তমান প্রক্রিয়ার মেমোরি ব্যবহার সময়ের উপর নিয়মিত প্রতিবেদন করতে হবে, এই ক্লাসটি `MemReport` নামে।

#### কমান্ড অনুষ্ঠান
`php webman make:bootstrap MemReport` কমান্ড অনুষ্ঠান করুন এবং শুরুপর্যন্ত ফাইল `app/bootstrap/MemReport.php` তৈরি করুন

> **পরামর্শ**
> আপনার ওয়েব ম্যান `webman/console` ইনস্টল না থাকলে, `composer require webman/console` কমান্ড অনুষ্ঠান করুন।

#### শুরুপর্যন্ত ফাইল সম্পাদনা
`app/bootstrap/MemReport.php` ফাইল সম্পাদনা করুন, যাতে নিম্নলিখিত মত দেখায়:
```php
<?php

namespace app\bootstrap;

use Webman\Bootstrap;

class MemReport implements Bootstrap
{
    public static function start($worker)
    {
        // কি এটা কমান্ড লাইন পরিবেশ?
        $is_console = !$worker;
        if ($is_console) {
            // যদি আপনি কমান্ড লাইন পরিবেশে এই শুরুপর্যন্ত চালানা চান না তবে এখানে ফিরে যান
            return;
        }
        
        // প্রতি 10 সেকেন্ডে একবার অনুষ্ঠান করুন
        \Workerman\Timer::add(10, function () {
            // উদাহরণের সহায়তা৯ করতে, এখানে সম্পর্কে প্রদর্শন ব্যবহার করা হয়েছে
            echo memory_get_usage() . "\n";
        });
        
    }

}
```

> **পরামর্শ**
> কমান্ড লাইন ব্যবহার করা সময়, ফ্রেমওয়ার্কটি আপনার `config/bootstrap.php` এর সেট করা `start` মেথডটি অনুষ্ঠান করবে, আমরা পরিবেশ যেহেতু `কর্মী` অবজেক্টটি না আছে তা কোনও ডেভেলপমেন্টের ঘুমা উপপর করা যাবে, প্রক্রিয়ামূলক কোড যা অনুষ্ঠান করার সিদ্ধান্ত নির্ধারণ করা।

#### সাথে প্রক্রিয়া শুরু করুন
`config/bootstrap.php` ফাইল খোলুন এবং `MemReport` ক্লাসটি শুরু তালিকায় যোগ করুন।
```php
return [
    // ...এখানে অন্যান্য কনফিগারেশন অনুবাদ করা হয়েছে...
    
    app\bootstrap\MemReport::class,
];
```

এভাবে আমরা একটি ব্যবস্থাপনা শুরুপর্যন্ত প্রক্রিয়া সমাপ্ত করেছি।

## অতিরিক্ত বিবরণ
[কাস্টম প্রক্রিয়া](../process.md) শুরু হওয়ার পরে প্রক্রিয়া কনফিগার করুন `config/bootstrap.php` অনুষ্ঠান করার মাধ্যমে যা চালিয়ে আগেও `কর্মী->নাম` দ্বারা পরিষ্কার করা যায়, তারপরে ব্যবসায়িক শুরুপর্যন্ত পদক্ষেপ গ্রহণ করতে। উদাহরণস্বরূপ, আমরা `monitor` প্রক্রিয়ার মধ্যে মনিটরিং বিজ্ঞাপন ব্যবহার করা দরকার না, তাহলে `MemReport.php` মনে বাধাগুলি লিখিতে:
```php
<?php

namespace app\bootstrap;

use Webman\Bootstrap;

class MemReport implements Bootstrap
{
    public static function start($worker)
    {
        // কি এটা কমান্ড লাইন পরিবেশ?
        $is_console = !$worker;
        if ($is_console) {
            // আপনি কমান্ড লাইন পরিবেশে এই শুরুপর্যন্ত চালানা চালান না, এখানে ফিরে যান
            return;
        }
        
        // monitor প্রোগ্রামগুলি দ্বারা টাইমার অনুষ্ঠান করা না
        if ($worker->name == 'মনিটর') {
            return;
        }
        
        // প্রতি 10 সেকেন্ডে একবার অনুষ্ঠান করুন
        \Workerman\Timer::add(10, function () {
            // উদাহরণমতে, এখানে আউটপুটটি প্রতিবেদন নিয়ে সহায়তা করার জন্য ব্যবহৃত হয়েছে
            echo memory_get_usage() . "\n";
        });
        
    }

}
```
