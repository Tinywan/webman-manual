# Migration ডাটাবেস মাইগ্রেশন টুল ফিংস

## বর্ণনা

ফিংসের মাধ্যমে ডেভেলপাররা ডাটাবেস পরিবর্তন এবং সংরক্ষণ সহজভাবে করতে পারেন। এটা মানুষের স্বয়ংক্রিয়ভাবে SQL স্টেটমেন্ট লিখতে থেকে বিরত রেখে, ডাটাবেস মাইগ্রেশন পরিচালনার জন্য শক্তিশালী PHP API ব্যবহার করে। ডেভেলপাররা ভার্সন নিয়ন্ত্রণ ব্যবহার করে তাদের ডাটাবেস মাইগ্রেশন পরিচালনা করতে পারেন। ফিংস মধ্যে বিভিন্ন ডাটাবেসের মধ্যে ডাটা মাইগ্রেশন সহজ করতে পারে। এটি পরিবর্তনের কোনও সমস্যায় ডাটাবেসের অবস্থাটি ট্র্যাক করে আর ডেভেলপারদের এর চিন্তা করতে দরকার নেই, তাতে তারা কিভাবে আরও ভাল সিস্টেম লেখা যেতে পারে সে বিষয়ে আরও বেশি লাগানো যায়।
  
## প্রকল্প ঠিকানা

https://github.com/cakephp/phinx

## ইনস্টলেশন
 
  ```php
  composer require robmorgan/phinx
  ```
  
## আধিকারিক বাংলা ডকুমেন্টেশন ঠিকানা

বিস্তারিত ব্যবহারের জন্য অফিশিয়াল বাংলা ডকুমেন্টেশন দেখতে পারেন, এখানে শুধুমাত্র ওয়েবম্যানে কিভাবে কনফিগার করতে হয় তা আলোচনা করা হয়েছে

https://tsy12321.gitbooks.io/phinx-doc/content/

## মাইগ্রেশন ফাইল ডিরেক্টরি পরিস্থিতি

```
.
├── app                           অ্যাপ্লিকেশন ডিরেক্টরি
│   ├── controller                কন্ট্রোলার ডিরেক্টরি
│   │   └── Index.php             কন্ট্রোলার
│   ├── model                     মডেল ডিরেক্টরি
......
├── database                      ডাটাবেস ফাইল
│   ├── migrations                মাইগ্রেশন ফাইল
│   │   └── 20180426073606_create_user_table.php
│   ├── seeds                     টেস্ট ডাটা
│   │   └── UserSeeder.php
......
```

## phinx.php কনফিগারেশন

প্রকল্পের মূল ডিরেক্টরিতে phinx.php ফাইলটি তৈরি করুন

```php
<?php
return [
    "paths" => [
        "migrations" => "database/migrations",
        "seeds"      => "database/seeds"
    ],
    "environments" => [
        "default_migration_table" => "phinxlog",
        "default_database"        => "dev",
        "default_environment"     => "dev",
        "dev" => [
            "adapter" => "DB_CONNECTION",
            "host"    => "DB_HOST",
            "name"    => "DB_DATABASE",
            "user"    => "DB_USERNAME",
            "pass"    => "DB_PASSWORD",
            "port"    => "DB_PORT",
            "charset" => "utf8"
        ]
    ]
];
```

## ব্যবহারের পরামর্শ

মাইগ্রেশন ফাইল একবার কোড মার্জ হলে আর পরিবর্তন করা যাবে না, যদি কোন সমস্যা উঠে তাহলে অবশ্যই নতুন পরিষ্কার করার অথবা মুছে ফেলার অপারেশন ফাইলটি তৈরি করতে হবে।

#### ডেটাবেস টেবিল তৈরি অপারেশন ফাইলের নামকরণের নিয়ম

`{সময় (স্বয়ংক্রিয় তৈরি)}_create_{টেবিলের নাম ইংরেজি ছোট অক্ষরে}`

#### ডেটাবেস টেবিল পরিবর্তনের নামকরণের নিয়ম

`{সময় (স্বয়ংক্রিয় তৈরি)}_modify_{টেবিলের নাম ইংরেজি ছোট অক্ষরে+বিস্তারিত পরিবর্তনের ইংরেজি ছোট অক্ষরে}`

### ডেটাবেস টেবিল মুছে ফেলার অপারেশন ফাইলের নামকরণের নিয়ম

`{সময় (স্বয়ংক্রিয় তৈরি)}_delete_{টেবিলের নাম ইংরেজি ছোট অক্ষরে+বিস্তারিত মুছে ফেলার ইংরেজি ছোট অক্ষরে}`

### ডেটা পূর্ণ করার ফাইলের নামকরণের নিয়ম

`{সময় (স্বয়ংক্রিয় তৈরি)}_fill_{টেবিলের নাম ইংরেজি ছোট অক্ষরে+বিস্তারিত পূর্ণ করার ইংরেজি ছোট অক্ষরে}`
