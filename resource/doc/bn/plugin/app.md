# অ্যাপ্লিকেশন প্লাগইন
প্রতিটি অ্যাপ্লিকেশন প্লাগইন একটি সম্পূর্ণ অ্যাপ্লিকেশন, যার উৎসকোড রাখা হয় "{মূল প্রকল্প}/plugin" ডিরেক্টরির মধ্যে।
    
> **পরামর্শ**
> ব্যবহার করুন কমান্ড `php webman app-plugin:create {প্লাগইন নাম}` (webman/console>=1.2.16 প্রয়োজন) একটি অ্যাপ্লিকেশন প্লাগইন স্থানীয়ে তৈরি করতে 
> যে কোনো প্লাগইন তৈরি করে উদাহরণ হিসাবে এখানে লিখুন `php webman app-plugin:create cms` তাহলে নিম্নলিখিত ডিরেক্টরি স্ট্রাকচার তৈরি হবে

``` plaintext
plugin/
└── cms
    ├── app
    │   ├── controller
    │   │   └── IndexController.php
    │   ├── exception
    │   │   └── Handler.php
    │   ├── functions.php
    │   ├── middleware
    │   ├── model
    │   └── view
    │       └── index
    │           └── index.html
    ├── config
    │   ├── app.php
    │   ├── autoload.php
    │   ├── container.php
    │   ├── database.php
    │   ├── exception.php
    │   ├── log.php
    │   ├── middleware.php
    │   ├── process.php
    │   ├── redis.php
    │   ├── route.php
    │   ├── static.php
    │   ├── thinkorm.php
    │   ├── translation.php
    │   └── view.php
    └── public
```

আমরা দেখতে পাচ্ছি একটি অ্যাপ্লিকেশন প্লাগইনের একই ডিরেক্টরি স্ট্রাকচার এবং কনফিগারেশন ফাইল রয়েছে। বাস্তবে, অ্যাপ্লিকেশন প্লাগইন উন্নত করতে অভিজ্ঞতা প্রাপ্ত করা নোয়, অ্যাপ্লিকেশন প্লাগইনের উন্নতি সম্পর্কে মূলত একই, বরং এখানে কিছু বিষয় মনে রাখা প্রয়েজ।

## নেমসপেস
প্লাগইন ডিরেক্টরি এবং নাম এক্ষুণি PSR4 স্ট্যান্ডার্ড অনুসরণ করে, কারণ প্লাগইন সবসময় plugin ডিরেক্টরির মধ্যে রেখে থাকা হয়, তাই নেমস্পেস plugin দিয়ে শুরু হয়, উদাহরণস্বরূপ `plugin\cms\app\controller\UserController`, এখানে cms প্লাগইনের উৎস কোডের মূখ ডিরেক্টরি।

## url অ্যাক্সেস
অ্যাপ্লিকেশন প্লাগইন url ঠিকানা পথ সবসময় `/app` দিয়ে শুরু হয়, উদাহরণস্বরূপ `plugin\cms\app\controller\UserController` এর url ঠিকানা হল `http://127.0.0.1:8787/app/cms/user`।

## স্থিতিক ফাইল
স্থিতিক ফাইলগুলি `plugin/{প্লাগইন}/public` এ থাকে, উদাহরণস্বরূপ `http://127.0.0.1:8787/app/cms/avatar.png` অ্যাক্সেস করার মূল ফাইলটি হল `plugin/cms/public/avatar.png`।

## কনফিগারেশন ফাইল
প্লাগইনের কনফিগারেশন সাধারণ ভাবে ওয়েবম্যান প্রকল্পের মতো, তবে প্লাগইনের কনফিগারেশন সাধারণত কেবল স্থানীয় প্লাগইনের জন্য প্রযোজ্য, প্রধান প্রকল্পে সাধারণত কোনো প্রভাব ফেলে না।
উদাহরণস্বরূপ `plugin.cms.app.controller_suffix` এর মান কেবলমাত্র প্লাগইনের কন্ট্রোলার পরের অক্ষরের জন্য প্রভাব ফেলে, প্রধান প্রকল্পে কোনো প্রভাব নেই।
উদাহরণস্বরূপ `plugin.cms.app.controller_reuse` এর মান কেবলমাত্র প্লাগইন কোনও প্রভাব ফেলে না, প্রধান প্রকল্পে।
উদাহরণস্বরূপ `plugin.cms.middleware` এর মান কেবলমাত্র প্লাগইন মিডলওয়েরে প্রভাব ফেলে, প্রধান প্রকল্পে কোনো প্রভাব নেই।
উদাহরণস্বরূপ `plugin.cms.view` এর মান কেবলমাত্র প্লাগইনে ব্যবহৃত মতামতের জন্য প্রভাব ফেলে, প্রধান প্রকল্পে কোনো প্রভাব নেই।
উদাহরণস্বরূপ `plugin.cms.container` এর মান কেবলমাত্র প্লাগইনের ব্যবহারকারী কন্টেনার প্রভাব ফেলে, প্রধান প্রকল্পে কোনো প্রভাব নেই।
উদাহরণস্বরূপ `plugin.cms.exception` এর মান কেবলমাত্র প্লাগইনের অসুযোগ ব্যবহারকারীর সনাক্ত করা ক্লাস প্রভাব ফেলে, প্রধান প্রকল্পে কোনো প্রভাব নেই।
তবে, পথলচা শ্যু গ্লোবাল হতে আসায়, তাই প্লাগইনের কনফিগারেশন রাউট ওয়ে গ্লোবাল প্রভাব করে।

## কনফিগারেশন পেতে
কোনও প্লাগইন কনফিগারেশন পেতে পদক্ষেপ হয় `config('plugin.{প্লাগইন}.{নিষ্ঠা কনফিগারেশন}')` যেমন, `plugin/cms/config/app.php` এর সমস্ত কনফিগারেশন পেতে `config('plugin.cms.app')` ব্যবহার করুন।
একোবারই, মূল প্রকল্পও অন্যান্য প্লাগইন ব্যবহার করে `config('plugin.cms.xxx')` দিয়ে কোনো সিএমএস প্লাগইনের কনফিগারেশন অর্জিত করতে পারে।

## সমর্থিত কনফিগারেশন
অ্যাপ্লিকেশন প্লাগইন সার্ভার.php, সেশন.php কনফিগারেশন সাপোর্ট না করে, `app.request_class`, `app.public_path`, `app.runtime_path` কনফিগারেশন প্লাগইন সাপোর্ট না করে।

## ডাটাবেস
প্লাগইন নিজের ডাটাবেস কনফিগার করতে পারে, উদাহরণস্বরূপ, `plugin/cms/config/database.php` এর অনুমতি দেওয়া হয়
```php
return  [
    'default' => 'mysql',
    'connections' => [
        'mysql' => [ // mysql কোনও সংযোগের নাম
            'driver'      => 'mysql',
            'host'        => '127.0.0.1',
            'port'        => 3306,
            'database'    => 'ডাটাবেস',
            'username'    => 'ইউজারনেম',
            'password'    => 'পাসওয়ার্ড',
            'charset'     => 'utf8mb4',
            'collation'   => 'utf8mb4_general_ci',
        ],
        'admin' => [ // admin কোনও সংযোগের নাম
            'driver'      => 'mysql',
            'host'        => '127.0.0.1',
            'port'        => 3306,
            'database'    => 'ডাটাবেস',
            'username'    => 'ইউজারনেম',
            'password'    => 'পাসওয়ার্ড',
            'charset'     => 'utf8mb4',
            'collation'   => 'utf8mb4_general_ci',
        ],
    ],
];
```
পেতে পারেন `Db::connection('plugin.{প্লাগইন}.{সংযোগের নাম}');`, উদাহরণ হিসাবে
```php
use support\Db;
Db::connection('plugin.cms.mysql')->table('user')->first();
Db::connection('plugin.cms.admin')->table('admin')->first();
```

মূল প্রকল্পের ডাটাবেস ব্যবহার করতে চাইলে, তারা সরাসরি ব্যবহার করতে পারেন, উদাহরণ হিসাবে
```php
use support\Db;
Db::table('user')->first();
// ধারণ করা হয় মূল প্রকল্প অন্যান্য সংযোগও কনফিগার
Db::connection('admin')->table('admin')->first();
```

> **পরামর্শ**
> সাথে সাথে থিংকর্মও এরকম ব্যবহার করা যায়।

## রেডিস
রেডিস ব্যবহার ডাটাবেসের মতো, উদাহরণস্বরূপ, `plugin/cms/config/redis.php` এর অনুমতি দেওয়া হয়
```php
return [
    'default' => [
        'host' => '127.0.0.1',
        'password' => null,
        'port' => 6379,
        'database' => 0,
    ],
    'cache' => [
        'host' => '127.0.0.1',
        'password' => null,
        '
