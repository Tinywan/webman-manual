# কন্ট্রোলার

`app/controller/FooController.php` নামে একটি নতুন কন্ট্রোলার ফাইল তৈরি করুন।

```php
<?php
namespace app\controller;

use support\Request;

class FooController
{
    public function index(Request $request)
    {
        return response('hello index');
    }
    
    public function hello(Request $request)
    {
        return response('hello webman');
    }
}
```

`http://127.0.0.1:8787/foo` এ পূছে `hello index` পেজ দেখা যাবে।

`http://127.0.0.1:8787/foo/hello` এ পূছে `hello webman` পেজ দেখা যাবে।

আপনি সহিত রাউট নির্ধারণ করার জন্য রাউট কনফিগারেশনে দেখুন [রাউট](route.md)।

> **ইঙ্গিত**
> 404 এরর পেলে, `config/app.php` ফাইলটি খোলে, `controller_suffix` এর মানটি `Controller` করুন এবং পুনরায় আরম্ভ করুন।

## কন্ট্রোলারের সাফিক

webman 1.3 ভার্সন থেকে, `config/app.php` ফাইলে কন্ট্রোলারের সাফিকের জন্য সেটিং গুলো আপনি সেট করতে পারেন। যদি `config/app.php` তে `controller_suffix` এর মান খন্ডিত করেন, তাহলে কন্ট্রোলার এর নাম নিম্নলিখিত মত হবে

`app\controller\Foo.php`।

```php
<?php
namespace app\controller;

use support\Request;

class Foo
{
    public function index(Request $request)
    {
        return response('hello index');
    }
    
    public function hello(Request $request)
    {
        return response('hello webman');
    }
}
```

একটি `Controller` প্রশ্নের ক্ষেত্রে জোরদারভাবে সুন্দরীকরণ সহজ করতে সহায়ক। এটা মডেল অথবা নাম সংঘর্ষ থেকে রক্ষা দেয়।

## এতির্থ
 - ফ্রেমওয়ার্ক স্বয়ংক্রিয়ভাবে কন্ট্রোলার মেয়াদ সঙ্গে `সাপোর্ট/রিকুয়েস্ট` অবজেক্ট পাঠায়, যার মাধ্যে আপনি ব্যবহারকারীর ইনপুট ডেটা (গেট পোস্ট হেডার কুকি ইত্যাদি উপাদান) পেতে পারেন, [রিকুয়েস্ট](request.md) দেখুন।
 - কন্ট্রোলারের জন্য আপনি সংখ্যা, স্ট্রিং বা `সাপোর্ট/রিসপন্স` অবজেক্ট ফিরিয়ে দিতে পারেন, তবে অন্য ডেটা ফিরিয়ে দিতে পারবেন না।
 - `সাপোর্ট/রিসপন্স` অবজেক্ট তৈরি করতে `response()` `json()` `xml()` `jsonp()` `পুনঃপ্রেরণ()` ইত্যাদি হেল্পার ফাংশন ব্যবহার করতে পারেন।

## কন্ট্রোলার জীবনচক্র

যখন `config/app.php` তে `controller_reuse` অপশনটি `সুপারিশ্রুধ` মানে `ফল্স` হয়ে থাকে, তবে, প্রতিটি অনুরোধের সাথে যুক্ত করার জন্য প্রতিটি কন্ট্রোলার তৈরি করা হবে, পরিস্থিতি শেষে কন্ট্রোলার ইনস্ট্যান্স ডিসট্রয় করা হবে, এটা পারস্পরিকভাবে প্রথমত বেশ অধিক মানুষের প্রথীতির মূল অনুরোধগুলির সাথে মেলবে।

যখন `config/app.php` তে `controller_reuse` অপশনটি `ট্রু` হয়ে থাকে, তবে, সকল অনুরোধকে বন্ধুত্বপূর্ণ কন্ট্রোলার ইনস্ট্যান্স প্রদান করা হবে, অর্থাৎ, একবার কন্ট্রোলার ইনস্ট্যান্স তৈরি হবার পরে আর মুছে ফেলা হবে না, বরং বর্তমান প্রস্তুত প্রক্রিয়ার পরবর্তী অনুরোধগুলি এই ইনস্ট্যান্সগুলিতে যুক্ত করা হবে।

> **মন্তব্য**
> প্রবণ কন্ট্রোলার বন্ধুত্বে বন্ধ করার জন্য, webman>=1.4.0 প্রয়োজন, অর্থাৎ 1.4.0 এ এবারপর ডিফল্ট হিসেবে সকল কন্ট্রোলার বন্ধুত্বপূর্ণ, অপবর্তন করা যাবে না।

> **মন্তব্য**
> বন্ধুত্বপূর্ণ কন্ট্রোলার চালিয়ে যাওয়া সময়ঃ আনুনত কন্ট্রোলারের যেসব গুণাবলী পরিবর্তন করা হবে না, কারণ এই পরিবর্তন সাথে পরবর্তী অনুরোধগুলির প্রভাব পড়তে পারে।

> **মন্তব্য**
> বর্ত্মান কন্ট্রোলার মেথড `__construct()` এ ডাটা return করলে, সেটার কোন পরিণাম আসবে না, উদাহরণ সরূপ

```php
<?php
namespace app\controller;

use support\Request;

class FooController
{
    public function __construct()
    {
        // ডাটা রিটার্নের ফাংশনের মধ্যে এডমীট কোন প্রভাব নেই, ব্রাউজার যে রিসপন্স পায় না
        return response('hello'); 
    }
}
```

## বন্ধুত্বপূর্ণ এবং বন্ধুত্বপূর্ণ না বন্ধুত্বের পার্থক্য
পার্থক্যঃ

#### বন্ধুত্বপূর্ণ না বন্ধুত্বপূর্ণ কন্ট্রোলার
প্রতিটি অনুরোধের সাথে নতুন একটি কন্ট্রোলার ইনস্ট্যান্স তৈরি হবে, অনুরোধ শেষে ইনস্ট্যান্সটি মুক্ত করা হবে এবং মেমোরির মুক্তি প্রাপ্ত করা হবে। না বন্ধুত্বপূর্ণ কন্ট্রোলার, যুক্তি প্রক্রিয়াতে, অনুরোধ অনুযায়ী কন্ট্রোলারের বার্তা স্বীকৃতি রবেন। বন্ধুত্বপূর্ণ না হিসেবে, অনুরোধ অনুযায়ী কন্ট্রোলারের মুঠো সময় তুলনামূলক ভাবে সারংশ দিতে পারে।

#### বন্ধুত্বপূর্ণ কন্ট্রোলার
বন্ধুত্বপূর্ণ হলে, প্রক্রিয়ার অনুরোধ গুরুত্বপূর্ণভাবে একটি কন্ট্রোলার ইনস্ট্যান্স তৈরি হবে, পরিস্থিতি শেষে ইনস্ট্যান্সটি মুক্ত করা হবে না, বরং বর্তমান প্রক্রিয়ার পরবর্তী অনুরোধগুলি এই ইনস্ট্যান্সগুলিতে যুক্ত করা হবে। বন্ধুত্বপূর্ণ বন্ধুত্বপূর্ণ কন্ট্রোলারের পারফরমান্স ভালো হলেও, এটি অনেক বিকল্প ডেভেলপারের সঙ্গে মেলে না।

#### নিম্নলিখিত পরিস্থিতিতে কন্ট্রোলার বন্ধুত্বপূর্ণ হিসেবে ব্যবহার করা যাবে না

বিশেষত সেই সময়ে, যখন অনুরোধগুলি তাদের গুণমূলক বৈশিষ্ট্য পরিবর্তন করবে, বার্তা গুলি তৈরি করা আপনি কেও ভালো অভিনয় করতে পারবেন না।

কিছু ডেভেলপার প্রতিটি অনুরোধে কন্ট্রোলার প্রয়োগ করতে পছন্দ করে, `__construct()` মেথডে প্রতিটি অনুরোধ প্রকারের শুরুতে তাদের উদ্দেশ্যের ল
